# cmake

## cmakeList编译：

cmake引入so 1、 .h  .so  2、尽量现在附近目录搜索 3、层层向下  3

**暴力链接库**的方法：

```java
 include_directories(     )             //.h文件
 
 
 target_link_libraries(${PROJECT_NAME} /usr/local/lib/libABC.so)  // so文件
```

参考：  [linux知识点——CMakeLists.txt中调用自己编写的so库_cmake 链接so库-CSDN博客](https://blog.csdn.net/qq_46515446/article/details/121498619)



注意：一般 添加一个.h引入，添加一个so引入 --------------> 保证一致





## 运行时

运行可执行文件，找不到so：

error while loading shared libraries: libbinder.so.14: cannot open shared object file

**临时解决方案**： 在运行可执行文件前，设置环境变量 `LD_LIBRARY_PATH` 来包含所需的库路径：

```
 export LD_LIBRARY_PATH=/usr/lib64:$LD_LIBRARY_PATH
 ./your_executable
```

- --------> 验证ok

**永久解决方案**：

- 如果希望所有用户都能够在运行此可执行文件时不添加额外的环境变量，可以将该库路径添加到全局配置文件 `/etc/ld.so.conf` 或者创建一个新文件放入 `/etc/ld.so.conf.d/` 目录下，并更新缓存：

  Bash

  ```
   1echo "/usr/lib64" >> /etc/ld.so.conf.d/binder.conf
   2sudo ldconfig
  ```

  然后直接运行你的可执行文件即可。

**重新编译可执行文件**： 如果你有可执行文件的源代码，并且能够控制其编译过程，可以在编译时指定 `-L/usr/lib64` 选项来指定库的搜索路径，并使用 `-lbinder` 指定链接到 `libbinder.so` 库：

```
 1gcc -o your_executable source_file.c -L/usr/lib64 -lbinder
```







## 一些教程：

https://zhuanlan.zhihu.com/p/602487280   CMake基础使用和实战详解





# yocto



## yocto报错

### ERROR: Unable to connect to bitbake server, or start one (server startup failures would be in bitbake-cookerdaemon.log).

```
 rm -rf ./bitbake.lock
```

参考：

https://blog.csdn.net/hhs_1996/article/details/121316806?utm_medium=distribute.pc_relevant.none-task-blog-2~default~baidujs_baidulandingword~default-8-121316806-blog-127298856.235^v43^pc_blog_bottom_relevance_base7&spm=1001.2101.3001.4242.5&utm_relevant_index=9