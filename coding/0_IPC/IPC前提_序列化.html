
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>IPC前提_序列化 · Kent的博客</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-toggle-chapters/toggle.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-code/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-page-treeview/style.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-sidebar-style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-auto-scroll-table/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-click-reveal/click_reveal.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-accordion/accordion.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-pageview-count/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search-pro/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-prism/prism-tomorrow.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="socket.html" />
    
    
    <link rel="prev" href="AndriodIPC.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../../0_图形系统/">
            
                <a href="../../0_图形系统/">
            
                    
                    0_图形系统
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../../0_图形系统/0_Graphic系统总论/0_Graphic系统总论.html">
            
                <a href="../../0_图形系统/0_Graphic系统总论/0_Graphic系统总论.html">
            
                    
                    0_Graphic系统总论
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../../0_图形系统/1_Render系统/">
            
                <a href="../../0_图形系统/1_Render系统/">
            
                    
                    1_Render系统
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.2.1" data-path="../../0_图形系统/1_Render系统/opengl.html">
            
                <a href="../../0_图形系统/1_Render系统/opengl.html">
            
                    
                    Opengl
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../../0_图形系统/2_窗口系统/">
            
                <a href="../../0_图形系统/2_窗口系统/">
            
                    
                    2_窗口系统
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.3.1" data-path="../../0_图形系统/2_窗口系统/0_窗口系统总论/0_窗口系统总论.html">
            
                <a href="../../0_图形系统/2_窗口系统/0_窗口系统总论/0_窗口系统总论.html">
            
                    
                    0_窗口系统总论
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.2" data-path="../../0_图形系统/2_窗口系统/次要/">
            
                <a href="../../0_图形系统/2_窗口系统/次要/">
            
                    
                    次要
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.3.2.1" data-path="../../0_图形系统/2_窗口系统/次要/virtualDisplay.html">
            
                <a href="../../0_图形系统/2_窗口系统/次要/virtualDisplay.html">
            
                    
                    Virtual Display
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.2.2" data-path="../../0_图形系统/2_窗口系统/次要/自由窗口.html">
            
                <a href="../../0_图形系统/2_窗口系统/次要/自由窗口.html">
            
                    
                    自由窗口
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.3.3" data-path="../../0_图形系统/2_窗口系统/SurfaceControl.html">
            
                <a href="../../0_图形系统/2_窗口系统/SurfaceControl.html">
            
                    
                    Surface Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.4" data-path="../../0_图形系统/2_窗口系统/virtualDisplay.html">
            
                <a href="../../0_图形系统/2_窗口系统/virtualDisplay.html">
            
                    
                    Virtual Display
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.5" data-path="../../0_图形系统/2_窗口系统/wms_animination.html">
            
                <a href="../../0_图形系统/2_窗口系统/wms_animination.html">
            
                    
                    Wms Animination
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.6" data-path="../../0_图形系统/2_窗口系统/窗口管理器WMS.html">
            
                <a href="../../0_图形系统/2_窗口系统/窗口管理器WMS.html">
            
                    
                    窗口管理器WMS
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../../0_图形系统/3_Display系统/">
            
                <a href="../../0_图形系统/3_Display系统/">
            
                    
                    3_Display系统
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.4.1" data-path="../../0_图形系统/3_Display系统/Display系统.html">
            
                <a href="../../0_图形系统/3_Display系统/Display系统.html">
            
                    
                    Display系统
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4.2" data-path="../../0_图形系统/3_Display系统/sf特效.html">
            
                <a href="../../0_图形系统/3_Display系统/sf特效.html">
            
                    
                    sf特效
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4.3" data-path="../../0_图形系统/3_Display系统/合成器surfaceFlinger.html">
            
                <a href="../../0_图形系统/3_Display系统/合成器surfaceFlinger.html">
            
                    
                    合成器surfaceFlinger
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../../0_图形系统/其他/">
            
                <a href="../../0_图形系统/其他/">
            
                    
                    其他
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.5.1" data-path="../../0_图形系统/其他/QT.html">
            
                <a href="../../0_图形系统/其他/QT.html">
            
                    
                    QT
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5.2" data-path="../../0_图形系统/其他/多屏显示分析.html">
            
                <a href="../../0_图形系统/其他/多屏显示分析.html">
            
                    
                    多屏显示分析
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../../0_输入系统/">
            
                <a href="../../0_输入系统/">
            
                    
                    0_输入系统
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../../0_输入系统/Input.html">
            
                <a href="../../0_输入系统/Input.html">
            
                    
                    Input
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../../0_输入系统/全局手势.html">
            
                <a href="../../0_输入系统/全局手势.html">
            
                    
                    全局手势
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../../0_进程管理/">
            
                <a href="../../0_进程管理/">
            
                    
                    0_进程管理
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../../0_进程管理/0_AMS.html">
            
                <a href="../../0_进程管理/0_AMS.html">
            
                    
                    0 AMS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../../0_进程管理/App保活的方式.html">
            
                <a href="../../0_进程管理/App保活的方式.html">
            
                    
                    App保活的方式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../../0_进程管理/后台杀进程.html">
            
                <a href="../../0_进程管理/后台杀进程.html">
            
                    
                    后台杀进程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../../0_进程管理/杀进程原理.html">
            
                <a href="../../0_进程管理/杀进程原理.html">
            
                    
                    杀进程原理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../../0_进程管理/进程与子进程.html">
            
                <a href="../../0_进程管理/进程与子进程.html">
            
                    
                    进程与子进程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../../0_进程管理/进程管理系列0_总论.html">
            
                <a href="../../0_进程管理/进程管理系列0_总论.html">
            
                    
                    进程管理系列0_总论
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="../../0_进程管理/进程管理系列1之进程的创建.html">
            
                <a href="../../0_进程管理/进程管理系列1之进程的创建.html">
            
                    
                    进程管理系列1之进程的创建
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="../../0_进程管理/进程管理系列2之进程的优先级.html">
            
                <a href="../../0_进程管理/进程管理系列2之进程的优先级.html">
            
                    
                    进程管理系列2之进程的优先级
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9" data-path="../../0_进程管理/进程管理系列3之内存回收.html">
            
                <a href="../../0_进程管理/进程管理系列3之内存回收.html">
            
                    
                    进程管理系列3之内存回收
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../../Andriod/">
            
                <a href="../../Andriod/">
            
                    
                    Andriod
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../../Andriod/关键流程/">
            
                <a href="../../Andriod/关键流程/">
            
                    
                    关键流程
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1.1" data-path="../../Andriod/关键流程/InitSystem.html">
            
                <a href="../../Andriod/关键流程/InitSystem.html">
            
                    
                    Init System
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.2" data-path="../../Andriod/关键流程/startAPP.html">
            
                <a href="../../Andriod/关键流程/startAPP.html">
            
                    
                    Start APP
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../../Andriod/其他核心服务/">
            
                <a href="../../Andriod/其他核心服务/">
            
                    
                    其他核心服务
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.2.1" data-path="../../Andriod/其他核心服务/1_InputMethod.html">
            
                <a href="../../Andriod/其他核心服务/1_InputMethod.html">
            
                    
                    1 Input Method
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.2" data-path="../../Andriod/其他核心服务/multi-client-ime.html">
            
                <a href="../../Andriod/其他核心服务/multi-client-ime.html">
            
                    
                    Multi Client Ime
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.3" data-path="../../Andriod/其他核心服务/无障碍_.html">
            
                <a href="../../Andriod/其他核心服务/无障碍_.html">
            
                    
                    无障碍_
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../../Andriod/0_AndriodSystem.html">
            
                <a href="../../Andriod/0_AndriodSystem.html">
            
                    
                    0 Andriod System
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../../Andriod/log框架.html">
            
                <a href="../../Andriod/log框架.html">
            
                    
                    log框架
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="../../Andriod/permissions.html">
            
                <a href="../../Andriod/permissions.html">
            
                    
                    Permissions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="../../Andriod/模型.html">
            
                <a href="../../Andriod/模型.html">
            
                    
                    模型
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../">
            
                <a href="../">
            
                    
                    Coding
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../0_computorBase/">
            
                <a href="../0_computorBase/">
            
                    
                    0 Computor Base
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1.1" data-path="../0_computorBase/DesignPattern.html">
            
                <a href="../0_computorBase/DesignPattern.html">
            
                    
                    Design Pattern
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.1.2" data-path="../0_computorBase/HowToReadCode.html">
            
                <a href="../0_computorBase/HowToReadCode.html">
            
                    
                    How To Read Code
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.1.3" data-path="../0_computorBase/HowWritecode.html">
            
                <a href="../0_computorBase/HowWritecode.html">
            
                    
                    How Writecode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.1.4" data-path="../0_computorBase/linux.html">
            
                <a href="../0_computorBase/linux.html">
            
                    
                    Linux
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.1.5" data-path="../0_computorBase/linux文件系统.html">
            
                <a href="../0_computorBase/linux文件系统.html">
            
                    
                    linux文件系统
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.1.6" data-path="../0_computorBase/OperateSystem.html">
            
                <a href="../0_computorBase/OperateSystem.html">
            
                    
                    Operate System
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.1.7" data-path="../0_computorBase/refactor.html">
            
                <a href="../0_computorBase/refactor.html">
            
                    
                    Refactor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.1.8" data-path="../0_computorBase/用户_用户组.html">
            
                <a href="../0_computorBase/用户_用户组.html">
            
                    
                    用户_用户组
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.1.9" data-path="../0_computorBase/解耦.html">
            
                <a href="../0_computorBase/解耦.html">
            
                    
                    解耦
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="./">
            
                <a href="./">
            
                    
                    0 IPC
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.2.1" data-path="AndriodIPC.html">
            
                <a href="AndriodIPC.html">
            
                    
                    Andriod IPC
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.6.2.2" data-path="IPC前提_序列化.html">
            
                <a href="IPC前提_序列化.html">
            
                    
                    IPC前提_序列化
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2.3" data-path="socket.html">
            
                <a href="socket.html">
            
                    
                    Socket
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2.4" data-path="线程间通信.html">
            
                <a href="线程间通信.html">
            
                    
                    线程间通信
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../0_性能/">
            
                <a href="../0_性能/">
            
                    
                    0_性能
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.3.1" data-path="../0_性能/profiler.html">
            
                <a href="../0_性能/profiler.html">
            
                    
                    Profiler
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3.2" data-path="../0_性能/Systrace.html">
            
                <a href="../0_性能/Systrace.html">
            
                    
                    Systrace
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3.3" data-path="../0_性能/内存.html">
            
                <a href="../0_性能/内存.html">
            
                    
                    内存
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3.4" data-path="../0_性能/性能_.html">
            
                <a href="../0_性能/性能_.html">
            
                    
                    性能_
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../1_稳定性/">
            
                <a href="../1_稳定性/">
            
                    
                    1_稳定性
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.4.1" data-path="../1_稳定性/ANR.html">
            
                <a href="../1_稳定性/ANR.html">
            
                    
                    ANR
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4.2" data-path="../1_稳定性/WatchDog.html">
            
                <a href="../1_稳定性/WatchDog.html">
            
                    
                    Watch Dog
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="../AndriodCar/">
            
                <a href="../AndriodCar/">
            
                    
                    Andriod Car
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.5.1" data-path="../AndriodCar/CarService.html">
            
                <a href="../AndriodCar/CarService.html">
            
                    
                    Car Service
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6.6" data-path="../AndroidTool/">
            
                <a href="../AndroidTool/">
            
                    
                    Android Tool
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.6.1" data-path="../AndroidTool/HierarchyView.html">
            
                <a href="../AndroidTool/HierarchyView.html">
            
                    
                    Hierarchy View
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6.7" data-path="../App/">
            
                <a href="../App/">
            
                    
                    App
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.7.1" data-path="../App/APK_64bit_32bit.html">
            
                <a href="../App/APK_64bit_32bit.html">
            
                    
                    APK 64 Bit 32 Bit
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.7.2" data-path="../App/APP开发.html">
            
                <a href="../App/APP开发.html">
            
                    
                    APP开发
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.7.3" data-path="../App/launcher3.html">
            
                <a href="../App/launcher3.html">
            
                    
                    Launcher 3
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.7.4" data-path="../App/SystemUI.html">
            
                <a href="../App/SystemUI.html">
            
                    
                    System UI
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.7.5" data-path="../App/小程序.html">
            
                <a href="../App/小程序.html">
            
                    
                    小程序
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6.8" data-path="../CodingLanguage/">
            
                <a href="../CodingLanguage/">
            
                    
                    Coding Language
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.8.1" data-path="../CodingLanguage/c_cpp_java.html">
            
                <a href="../CodingLanguage/c_cpp_java.html">
            
                    
                    C Cpp Java
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.8.2" data-path="../CodingLanguage/java反射.html">
            
                <a href="../CodingLanguage/java反射.html">
            
                    
                    java反射
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.8.3" data-path="../CodingLanguage/JNI.html">
            
                <a href="../CodingLanguage/JNI.html">
            
                    
                    JNI
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.8.4" data-path="../CodingLanguage/js.html">
            
                <a href="../CodingLanguage/js.html">
            
                    
                    Js
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.8.5" data-path="../CodingLanguage/python.html">
            
                <a href="../CodingLanguage/python.html">
            
                    
                    Python
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.8.6" data-path="../CodingLanguage/R.html">
            
                <a href="../CodingLanguage/R.html">
            
                    
                    R
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6.9" data-path="../Features/">
            
                <a href="../Features/">
            
                    
                    Features
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.9.1" data-path="../Features/其他特性.html">
            
                <a href="../Features/其他特性.html">
            
                    
                    其他特性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.9.2" data-path="../Features/多用户.html">
            
                <a href="../Features/多用户.html">
            
                    
                    多用户
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6.10" >
            
                <span>
            
                    
                    Kde
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.10.1" data-path="../kde/kwin.html">
            
                <a href="../kde/kwin.html">
            
                    
                    Kwin
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6.11" data-path="../other%20OS/README.md">
            
                <span>
            
                    
                    Other OS
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.11.1" data-path="../other%20OS/OpenHarmony.md">
            
                <span>
            
                    
                    Open Harmony
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.11.2" data-path="../other%20OS/otherOS.md">
            
                <span>
            
                    
                    Other OS
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6.12" data-path="../多线程/">
            
                <a href="../多线程/">
            
                    
                    多线程
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.12.1" data-path="../多线程/多线程的模型.html">
            
                <a href="../多线程/多线程的模型.html">
            
                    
                    多线程的模型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.12.2" data-path="../多线程/线程池与binder线程池.html">
            
                <a href="../多线程/线程池与binder线程池.html">
            
                    
                    线程池与binder线程池
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6.13" data-path="../文件系统结构/文件系统结构.html">
            
                <a href="../文件系统结构/文件系统结构.html">
            
                    
                    文件系统结构
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.14" data-path="../虚拟化/虚拟化.html">
            
                <a href="../虚拟化/虚拟化.html">
            
                    
                    虚拟化
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../../Naturalaw/">
            
                <a href="../../Naturalaw/">
            
                    
                    Naturalaw
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../../Naturalaw/ReadingAndThinking.html">
            
                <a href="../../Naturalaw/ReadingAndThinking.html">
            
                    
                    Reading And Thinking
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../../book2.html">
            
                <a href="../../book2.html">
            
                    
                    Book 2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../../CheckList.html">
            
                <a href="../../CheckList.html">
            
                    
                    Check List
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >IPC前提_序列化</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-navicon"></i><ul><li><span class="title-icon "></span><a href="#&#x76EE;&#x5F55;"><b>1. </b>&#x76EE;&#x5F55;</a></li><li><span class="title-icon "></span><a href="#ipc&#x524D;&#x63D0;------&#x5E8F;&#x5217;&#x5316;"><b>2. </b>IPC&#x524D;&#x63D0;------&#x5E8F;&#x5217;&#x5316;</a></li><ul><li><span class="title-icon "></span><a href="#&#x5E8F;&#x5217;&#x5316;&#x7684;&#x672C;&#x8D28;&#x662F;&#x5565;&#xFF1F;"><b>2.1. </b>&#x5E8F;&#x5217;&#x5316;&#x7684;&#x672C;&#x8D28;&#x662F;&#x5565;&#xFF1F;</a></li><li><span class="title-icon "></span><a href="#&#x5B89;&#x5353;&#x5E8F;&#x5217;&#x5316;&#x6E90;&#x7801;&#x5206;&#x6790;"><b>2.2. </b>&#x5B89;&#x5353;&#x5E8F;&#x5217;&#x5316;&#x6E90;&#x7801;&#x5206;&#x6790;</a></li><ul><li><span class="title-icon "></span><a href="#0&#x5C42;"><b>2.2.1. </b>0&#x5C42;</a></li><li><span class="title-icon "></span><a href="#jparcel&#x7684;&#x83B7;&#x53D6;&#x4E0E;recycle"><b>2.2.2. </b>J_parcel&#x7684;&#x83B7;&#x53D6;&#x4E0E;recycle()</a></li><li><span class="title-icon "></span><a href="#&#x6784;&#x9020;&#x7684;&#x8FC7;&#x7A0B;&#x662F;&#x600E;&#x6837;&#x7684;&#xFF1F;"><b>2.2.3. </b>&#x6784;&#x9020;&#x7684;&#x8FC7;&#x7A0B;&#x662F;&#x600E;&#x6837;&#x7684;&#xFF1F;</a></li><li><span class="title-icon "></span><a href="#parcel&#x4E0E;ibinder&#x7684;&#x5173;&#x7CFB;&#xFF1F;&#xFF1F;&#xFF1F;"><b>2.2.4. </b>parcel&#x4E0E;Ibinder&#x7684;&#x5173;&#x7CFB;&#xFF1F;&#xFF1F;&#xFF1F;</a></li></ul></ul><li><span class="title-icon "></span><a href="#todo&#xFF1A;&#x5E8F;&#x5217;&#x5316;&#x6700;&#x7EC8;&#x7684;&#x627F;&#x8F7D;&#x7684;&#x5BB9;&#x5668;&#x662F;&#x4EC0;&#x4E48;&#xFF1F;buffer&#xFF1F;"><b>3. </b>TODO&#xFF1A;&#x5E8F;&#x5217;&#x5316;&#x6700;&#x7EC8;&#x7684;&#x627F;&#x8F7D;&#x7684;&#x5BB9;&#x5668;&#x662F;&#x4EC0;&#x4E48;&#xFF1F;buffer&#xFF1F;</a></li><li><span class="title-icon "></span><a href="#&#x4ECE;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x770B;parcel"><b>4. </b>&#x4ECE;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x770B;Parcel</a></li><ul><li><span class="title-icon "></span><a href="#parceldatasize-&#x8BA1;&#x7B97;&#xFF1A;"><b>4.1. </b>Parcel.dataSize() &#x8BA1;&#x7B97;&#xFF1A;</a></li></ul><li><span class="title-icon "></span><a href="#cpp-parcel&#x7684;&#x4F7F;&#x7528;"><b>5. </b>cpp Parcel&#x7684;&#x4F7F;&#x7528;</a></li><ul><li><span class="title-icon "></span><a href="#parcel"><b>5.1. </b>parcel</a></li><li><span class="title-icon "></span><a href="#parcel&#x7684;&#x68B3;&#x7406;"><b>5.2. </b>parcel&#x7684;&#x68B3;&#x7406;</a></li><li><span class="title-icon "></span><a href="#&#x591A;&#x53C2;&#x6570;&#x51FD;&#x6570;&#xFF0C;&#x591A;&#x53C2;&#x6570;&#x5982;&#x4F55;&#x5E8F;&#x5217;&#x5316;&#x4E0E;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x7684;&#xFF1F;-----&#x5206;&#x5C42;&#x5206;&#x6790;"><b>5.3. </b>&#x591A;&#x53C2;&#x6570;&#x51FD;&#x6570;&#xFF0C;&#x591A;&#x53C2;&#x6570;&#x5982;&#x4F55;&#x5E8F;&#x5217;&#x5316;&#x4E0E;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x7684;&#xFF1F;-----&#x5206;&#x5C42;&#x5206;&#x6790;</a></li><ul><li><span class="title-icon "></span><a href="#&#x5E8F;&#x5217;&#x5316;&#x6D41;&#x7A0B;&#xFF1A;"><b>5.3.1. </b>&#x5E8F;&#x5217;&#x5316;&#x6D41;&#x7A0B;&#xFF1A;</a></li><li><span class="title-icon "></span><a href="#&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x6D41;&#x7A0B;&#xFF1A;"><b>5.3.2. </b>&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x6D41;&#x7A0B;&#xFF1A;</a></li></ul><li><span class="title-icon "></span><a href="#todo&#xFF1A;-&#x4ECE;&#x6A21;&#x578B;&#x89D2;&#x5EA6;&#xFF0C;&#x5229;&#x7528;&#x4E86;&#x4EC0;&#x4E48;&#x8BED;&#x8A00;&#x7279;&#x6027;&#x5B9E;&#x73B0;&#x7684;aidl&#x63A5;&#x53E3;&#xFF1F;"><b>5.4. </b>TODO&#xFF1A; &#x4ECE;&#x6A21;&#x578B;&#x89D2;&#x5EA6;&#xFF0C;&#x5229;&#x7528;&#x4E86;&#x4EC0;&#x4E48;&#x8BED;&#x8A00;&#x7279;&#x6027;&#x5B9E;&#x73B0;&#x7684;Aidl&#x63A5;&#x53E3;&#xFF1F;</a></li></ul><li><span class="title-icon "></span><a href="#todo&#xFF1A;&#x5982;&#x4F55;&#x5BFB;&#x627E;&#x5230;&#x5BF9;&#x7AEF;&#x5BF9;&#x8C61;&#x7684;&#xFF1F;"><b>6. </b>TODO&#xFF1A;&#x5982;&#x4F55;&#x5BFB;&#x627E;&#x5230;&#x5BF9;&#x7AEF;&#x5BF9;&#x8C61;&#x7684;&#xFF1F;</a></li><li><span class="title-icon "></span><a href="#&#x6280;&#x5DE7;&#x4E4B;&#x5E8F;&#x5217;&#x5316;&#x8C03;&#x8BD5;"><b>7. </b>&#x6280;&#x5DE7;&#x4E4B;&#x5E8F;&#x5217;&#x5316;&#x8C03;&#x8BD5;</a></li><ul><li><span class="title-icon "></span><a href="#&#x4EE5;&#x504F;&#x6982;&#x5168;-&#x4E4B;parcel&#x6570;&#x636E;"><b>7.1. </b>&#x4EE5;&#x504F;&#x6982;&#x5168; &#x4E4B;parcel&#x6570;&#x636E;</a></li></ul></ul></div><a href="#&#x76EE;&#x5F55;" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><div class="treeview__container"><ul>
<li><div><a href="#ipc&#x524D;&#x63D0;------&#x5E8F;&#x5217;&#x5316;">IPC&#x524D;&#x63D0;------&#x5E8F;&#x5217;&#x5316;</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#&#x5E8F;&#x5217;&#x5316;&#x7684;&#x672C;&#x8D28;&#x662F;&#x5565;&#xFF1F;">&#x5E8F;&#x5217;&#x5316;&#x7684;&#x672C;&#x8D28;&#x662F;&#x5565;&#xFF1F;</a><i></i></div></li>
<li><div><a href="#&#x5B89;&#x5353;&#x5E8F;&#x5217;&#x5316;&#x6E90;&#x7801;&#x5206;&#x6790;">&#x5B89;&#x5353;&#x5E8F;&#x5217;&#x5316;&#x6E90;&#x7801;&#x5206;&#x6790;</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#0&#x5C42;">0&#x5C42;</a><i></i></div></li>
<li><div><a href="#jparcel&#x7684;&#x83B7;&#x53D6;&#x4E0E;recycle">J_parcel&#x7684;&#x83B7;&#x53D6;&#x4E0E;recycle()</a><i></i></div></li>
<li><div><a href="#&#x6784;&#x9020;&#x7684;&#x8FC7;&#x7A0B;&#x662F;&#x600E;&#x6837;&#x7684;&#xFF1F;">&#x6784;&#x9020;&#x7684;&#x8FC7;&#x7A0B;&#x662F;&#x600E;&#x6837;&#x7684;&#xFF1F;</a><i></i></div></li>
<li><div><a href="#parcel&#x4E0E;ibinder&#x7684;&#x5173;&#x7CFB;&#xFF1F;&#xFF1F;&#xFF1F;">parcel&#x4E0E;Ibinder&#x7684;&#x5173;&#x7CFB;&#xFF1F;&#xFF1F;&#xFF1F;</a><i></i></div></li>
</ul></li>
</ul></li>
<li><div><a href="#todo&#xFF1A;&#x5E8F;&#x5217;&#x5316;&#x6700;&#x7EC8;&#x7684;&#x627F;&#x8F7D;&#x7684;&#x5BB9;&#x5668;&#x662F;&#x4EC0;&#x4E48;&#xFF1F;buffer&#xFF1F;">TODO&#xFF1A;&#x5E8F;&#x5217;&#x5316;&#x6700;&#x7EC8;&#x7684;&#x627F;&#x8F7D;&#x7684;&#x5BB9;&#x5668;&#x662F;&#x4EC0;&#x4E48;&#xFF1F;buffer&#xFF1F;</a><i></i></div></li>
<li><div><a href="#&#x4ECE;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x770B;parcel">&#x4ECE;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x770B;Parcel</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#parceldatasize-&#x8BA1;&#x7B97;&#xFF1A;">Parcel.dataSize() &#x8BA1;&#x7B97;&#xFF1A;</a><i></i></div></li>
</ul></li>
<li><div><a href="#cpp-parcel&#x7684;&#x4F7F;&#x7528;">cpp Parcel&#x7684;&#x4F7F;&#x7528;</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#parcel">parcel</a><i></i></div></li>
<li><div><a href="#parcel&#x7684;&#x68B3;&#x7406;">parcel&#x7684;&#x68B3;&#x7406;</a><i></i></div></li>
<li><div><a href="#&#x591A;&#x53C2;&#x6570;&#x51FD;&#x6570;&#xFF0C;&#x591A;&#x53C2;&#x6570;&#x5982;&#x4F55;&#x5E8F;&#x5217;&#x5316;&#x4E0E;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x7684;&#xFF1F;-----&#x5206;&#x5C42;&#x5206;&#x6790;">&#x591A;&#x53C2;&#x6570;&#x51FD;&#x6570;&#xFF0C;&#x591A;&#x53C2;&#x6570;&#x5982;&#x4F55;&#x5E8F;&#x5217;&#x5316;&#x4E0E;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x7684;&#xFF1F;-----&#x5206;&#x5C42;&#x5206;&#x6790;</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#&#x5E8F;&#x5217;&#x5316;&#x6D41;&#x7A0B;&#xFF1A;">&#x5E8F;&#x5217;&#x5316;&#x6D41;&#x7A0B;&#xFF1A;</a><i></i></div></li>
<li><div><a href="#&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x6D41;&#x7A0B;&#xFF1A;">&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x6D41;&#x7A0B;&#xFF1A;</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#&#x5982;&#x4F55;&#x5BFB;&#x627E;&#x51FD;&#x6570;">&#x5982;&#x4F55;&#x5BFB;&#x627E;&#x51FD;&#x6570;</a><i></i></div></li>
<li><div><a href="#&#x5982;&#x4F55;&#x521B;&#x5EFA;-&#x53C2;&#x6570;&#xFF08;&#x5BF9;&#x8C61;&#xFF09;-----createfromparcel">&#x5982;&#x4F55;&#x521B;&#x5EFA; &#x53C2;&#x6570;&#xFF08;&#x5BF9;&#x8C61;&#xFF09;-----createFromParcel</a><i></i></div></li>
</ul></li>
</ul></li>
<li><div><a href="#todo&#xFF1A;-&#x4ECE;&#x6A21;&#x578B;&#x89D2;&#x5EA6;&#xFF0C;&#x5229;&#x7528;&#x4E86;&#x4EC0;&#x4E48;&#x8BED;&#x8A00;&#x7279;&#x6027;&#x5B9E;&#x73B0;&#x7684;aidl&#x63A5;&#x53E3;&#xFF1F;">TODO&#xFF1A; &#x4ECE;&#x6A21;&#x578B;&#x89D2;&#x5EA6;&#xFF0C;&#x5229;&#x7528;&#x4E86;&#x4EC0;&#x4E48;&#x8BED;&#x8A00;&#x7279;&#x6027;&#x5B9E;&#x73B0;&#x7684;Aidl&#x63A5;&#x53E3;&#xFF1F;</a><i></i></div></li>
</ul></li>
<li><div><a href="#todo&#xFF1A;&#x5982;&#x4F55;&#x5BFB;&#x627E;&#x5230;&#x5BF9;&#x7AEF;&#x5BF9;&#x8C61;&#x7684;&#xFF1F;">TODO&#xFF1A;&#x5982;&#x4F55;&#x5BFB;&#x627E;&#x5230;&#x5BF9;&#x7AEF;&#x5BF9;&#x8C61;&#x7684;&#xFF1F;</a><i></i></div></li>
<li><div><a href="#&#x6280;&#x5DE7;&#x4E4B;&#x5E8F;&#x5217;&#x5316;&#x8C03;&#x8BD5;">&#x6280;&#x5DE7;&#x4E4B;&#x5E8F;&#x5217;&#x5316;&#x8C03;&#x8BD5;</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#&#x4EE5;&#x504F;&#x6982;&#x5168;-&#x4E4B;parcel&#x6570;&#x636E;">&#x4EE5;&#x504F;&#x6982;&#x5168; &#x4E4B;parcel&#x6570;&#x636E;</a><i></i></div></li>
</ul></li>
</ul>
</div>

<h1 id="&#x76EE;&#x5F55;"><a name="&#x76EE;&#x5F55;" class="anchor-navigation-ex-anchor" href="#&#x76EE;&#x5F55;"><i class="fa fa-link" aria-hidden="true"></i></a>1. &#x76EE;&#x5F55;</h1>
<h1 id="ipc&#x524D;&#x63D0;------&#x5E8F;&#x5217;&#x5316;"><a name="ipc&#x524D;&#x63D0;------&#x5E8F;&#x5217;&#x5316;" class="anchor-navigation-ex-anchor" href="#ipc&#x524D;&#x63D0;------&#x5E8F;&#x5217;&#x5316;"><i class="fa fa-link" aria-hidden="true"></i></a>2. IPC&#x524D;&#x63D0;------&#x5E8F;&#x5217;&#x5316;</h1>
<h2 id="&#x5E8F;&#x5217;&#x5316;&#x7684;&#x672C;&#x8D28;&#x662F;&#x5565;&#xFF1F;"><a name="&#x5E8F;&#x5217;&#x5316;&#x7684;&#x672C;&#x8D28;&#x662F;&#x5565;&#xFF1F;" class="anchor-navigation-ex-anchor" href="#&#x5E8F;&#x5217;&#x5316;&#x7684;&#x672C;&#x8D28;&#x662F;&#x5565;&#xFF1F;"><i class="fa fa-link" aria-hidden="true"></i></a>2.1. &#x5E8F;&#x5217;&#x5316;&#x7684;&#x672C;&#x8D28;&#x662F;&#x5565;&#xFF1F;</h2>
<p><strong>Java&#x5E8F;&#x5217;&#x5316;&#x7684;&#x672C;&#x8D28;&#x662F;&#x5C06;Java&#x5BF9;&#x8C61;&#x4FDD;&#x5B58;&#x4E3A;&#x4E8C;&#x8FDB;&#x5236;&#x5B57;&#x8282;&#x7801;&#x3002;-----&gt; &#x8FDB;&#x800C;&#x53EF;&#x4EE5;&#x4F20;&#x8F93; +  &#x5B58;&#x50A8;</strong></p>
<p>&#x4F20;&#x8F93;&#x6709;&#x54EA;&#x4E9B;&#xFF0C;&#x4F20;&#x8F93;&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x5E8F;&#x5217;&#x5316;&#xFF1F;
&#x4F20;&#x8F93;&#xFF1A;&#x7F51;&#x7EDC;&#x4F20;&#x8F93;&#x3001;&#x8FDB;&#x7A0B;&#x95F4;&#x901A;&#x4FE1;IPC
&#x4E3A;&#x4EC0;&#x4E48;&#xFF1F;----&gt;
&#x672C;&#x8D28;&#x5728;&#x4E8E;&#xFF1A;&#x540C;&#x4E00;&#x8FDB;&#x7A0B;&#x95F4;&#xFF0C;&#x5BF9;&#x8C61;&#x7684;&#x4F20;&#x9012; &lt;------&gt; &#x4F20;&#x5730;&#x5740;&#x5185;&#x5B58;&#x3002;&#x3002;&#x3002;&#x540C;&#x4E00;&#x8FDB;&#x7A0B;&#x6709;&#x7EDF;&#x4E00;&#x7684;&#x5185;&#x5B58;
                    &#x4E0D;&#x540C;&#x8FDB;&#x7A0B;&#x95F4;&#xFF0C;&#x5185;&#x5B58;&#x662F;&#x72EC;&#x7ACB;&#x7684;</p>
<p>&#x5B58;&#x50A8;&#x4E3A;&#x4EC0;&#x4E48;&#x5E8F;&#x5217;&#x5316;&#xFF1F;&#xFF1F;&#xFF08;-----&gt; &#x7535;&#x8111;&#x4E0A;&#x5B58;&#x50A8;&#x90FD;&#x662F;&#x4E8C;&#x8FDB;&#x5236;&#x7684;&#xFF09;</p>
<p>&#x4E00;&#x5EA7;&#x5927;&#x53A6;&#x597D;&#x6BD4;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x4F60;&#x8981;&#x628A;&#x8FD9;&#x5EA7;&#x5927;&#x53A6;&#x642C;&#x5230;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x5730;&#x65B9;&#x53BB;&#xFF0C;&#x4F60;&#x60F3;&#x76F4;&#x63A5;&#x632A;&#x80AF;&#x5B9A;&#x4E0D;&#x884C;&#x5427;&#xFF1F;(&#x4E00;&#x822C;&#x6765;&#x8BF4;&#xFF0C;&#x53EA;&#x6709;&#x4F20;&#x503C;&#xFF0C;&#x6CA1;&#x6709;&#x4F20;&#x5BF9;&#x8C61;)&#x4F46;&#x6211;&#x53EF;&#x4EE5;&#x642C;&#x7816;&#x5934;&#x5427;&#xFF0C;&#x4E00;&#x4E2A;&#x4E00;&#x4E2A;&#x642C;&#xFF0C;&#x7136;&#x540E;&#x642C;&#x5230;&#x76EE;&#x7684;&#x5730;&#x91CD;&#x65B0;&#x7EC4;&#x5408;&#x6210;&#x4E00;&#x4E2A;&#x5927;&#x53A6;&#xFF0C;&#x800C;&#x5E8F;&#x5217;&#x5316;&#x5C31;&#x8D77;&#x5230;&#x4E86;&#x5C06;&#x5927;&#x53A6;&#x5206;&#x6210;&#x7816;&#x5934;&#x7684;&#x4F5C;&#x7528;.</p>
<p>TODO&#xFF1A;&#x6700;&#x5E95;&#x5C42;&#x903B;&#x8F91;&#xFF0C;&#x5982;&#x4F55;&#x505A;&#x5230;&#x7684;&#x5462;&#xFF1F;&#xFF1F;&#xFF1F;
TODO&#xFF1A;&#x4E3A;&#x4EC0;&#x4E48;&#x4F1A;&#x5F88;&#x9AD8;&#x6548;&#xFF1F;&#xFF1F;&#xFF1F;&#x6CA1;&#x6709;&#x5E8F;&#x5217;&#x5316;&#x7ED3;&#x6784;&#xFF0C;&#x53EA;&#x662F;&#x5E8F;&#x5217;&#x5316;&#x6570;&#x636E;</p>
<p>&#x8865;&#x5145;:HW&#x7B14;&#x8BB0;</p>
<p>&#x5E8F;&#x5217;&#x5316;&#x7ED3;&#x679C;:  &#x5B57;&#x8282;&#x5E8F;&#x5217;</p>
<p>TODO:</p>
<blockquote>
<p>&#x5E8F;&#x5217;&#x5316;&#xFF0C;&#x5E95;&#x5C42;&#x7684;&#x627F;&#x8F7D;&#x662F;&#x5565;&#xFF1F;&#x4E00;&#x4E2A;buffer&#x5417;&#xFF1F;&#x8FD8;&#x662F;&#xFF1F;</p>
</blockquote>
<h2 id="&#x5B89;&#x5353;&#x5E8F;&#x5217;&#x5316;&#x6E90;&#x7801;&#x5206;&#x6790;"><a name="&#x5B89;&#x5353;&#x5E8F;&#x5217;&#x5316;&#x6E90;&#x7801;&#x5206;&#x6790;" class="anchor-navigation-ex-anchor" href="#&#x5B89;&#x5353;&#x5E8F;&#x5217;&#x5316;&#x6E90;&#x7801;&#x5206;&#x6790;"><i class="fa fa-link" aria-hidden="true"></i></a>2.2. &#x5B89;&#x5353;&#x5E8F;&#x5217;&#x5316;&#x6E90;&#x7801;&#x5206;&#x6790;</h2>
<p>---&gt;Parcel&#x5E8F;&#x5217;&#x5316;</p>
<h3 id="0&#x5C42;"><a name="0&#x5C42;" class="anchor-navigation-ex-anchor" href="#0&#x5C42;"><i class="fa fa-link" aria-hidden="true"></i></a>2.2.1. 0&#x5C42;</h3>
<p><a href="https://blog.csdn.net/tkwxty/article/details/107916160" target="_blank">https://blog.csdn.net/tkwxty/article/details/107916160</a>   &#x5185;&#x6838;</p>
<p><img src="IPC&#x524D;&#x63D0;_&#x5E8F;&#x5217;&#x5316;.assets/2020081109300252.png" alt="&#x5728;&#x8FD9;&#x91CC;&#x63D2;&#x5165;&#x56FE;&#x7247;&#x63CF;&#x8FF0;"></p>
<p>Todo&#xFF1A;&#x5185;&#x6838;&#x8C03;&#x7528;&#x600E;&#x4E48;&#x7406;&#x89E3;&#xFF1F;&#xFF1F;&#xFF1F;---&gt;&#x7CFB;&#x7EDF;&#x8C03;&#x7528;
           &#x7528;&#x6237;&#x7A7A;&#x95F4;&#x4E0E;&#x5185;&#x6838;&#x7A7A;&#x95F4;&#x600E;&#x4E48;&#x7406;&#x89E3;&#xFF1F;&#xFF1F;&#xFF1F;</p>
<h3 id="jparcel&#x7684;&#x83B7;&#x53D6;&#x4E0E;recycle"><a name="jparcel&#x7684;&#x83B7;&#x53D6;&#x4E0E;recycle" class="anchor-navigation-ex-anchor" href="#jparcel&#x7684;&#x83B7;&#x53D6;&#x4E0E;recycle"><i class="fa fa-link" aria-hidden="true"></i></a>2.2.2. J_parcel&#x7684;&#x83B7;&#x53D6;&#x4E0E;recycle()</h3>
<pre class="language-"><code class="lang-java"> <span class="token comment">//parcel.java</span>
<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Parcel</span><span class="token punctuation">[</span><span class="token punctuation">]</span> sOwnedPool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Parcel</span><span class="token punctuation">[</span><span class="token constant">POOL_SIZE</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//1  6&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x5BF9;&#x8C61;&#x6C60;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Parcel</span> <span class="token function">obtain</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">final</span> <span class="token class-name">Parcel</span><span class="token punctuation">[</span><span class="token punctuation">]</span> pool <span class="token operator">=</span> sOwnedPool<span class="token punctuation">;</span>
        <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>pool<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Parcel</span> p<span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token constant">POOL_SIZE</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                p <span class="token operator">=</span> pool<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    pool<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token comment">// 2 &#x7528;&#x4E86;&#x4E4B;&#x540E;&#xFF0C;&#x5F15;&#x7528;&#x7F6E;&#x7A7A;---&gt;&#x4F46;&#x662F;&#x6709;&#x5176;&#x4ED6;&#x5F15;&#x7528;</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">DEBUG_RECYCLE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        p<span class="token punctuation">.</span>mStack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    p<span class="token punctuation">.</span>mReadWriteHelper <span class="token operator">=</span> <span class="token class-name">ReadWriteHelper</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">;</span><span class="token comment">//todo:&#x4F5C;&#x7528;&#xFF1F;&#xFF1F;&#xFF1F;</span>
                    <span class="token keyword">return</span> p<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Parcel</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//3 &#x65B0;&#x5EFA;&#xFF0C;&#x6CA1;&#x52A0;&#x5165;&#x5BF9;&#x8C61;&#x6C60;&#x91CC;&#x9762;&#xFF01;</span>
    <span class="token punctuation">}</span>
</code></pre>
<p>//1 &#x7528;&#x4E86;&#x5BF9;&#x8C61;&#x6C60;&#xFF1A;1&#x3001;&#x7531;&#x4E8E;parcel&#x5BF9;&#x8C61;&#x521B;&#x5EFA;+&#x91CA;&#x653E;&#x7684;&#x975E;&#x5E38;&#x9891;&#x7E41;----&gt;&#x6D88;&#x8017;&#x8D44;&#x6E90; 2&#x3001;&#x4E0D;&#x662F;&#x8F7B;&#x91CF;&#x7EA7;&#x5BF9;&#x8C61;</p>
<p>// 3 &#x81EA;&#x7136;&#x7684;&#xFF0C;&#x6CA1;&#x52A0;&#x5165;&#x4EE3;&#x8868;&#x5728;&#x4F7F;&#x7528;----&gt;recycle&#x65F6;&#xFF0C;&#x6709;&#x53EF;&#x80FD;&#x52A0;&#x5165;&#x5BF9;&#x8C61;&#x6C60;&#xFF08;&#x524D;&#x63D0;&#xFF1A;&#x6709;&#x7A7A;&#x4F4D;&#xFF09;,&#x89C1;#3_1</p>
<pre class="language-"><code class="lang-java">    <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">void</span> <span class="token function">recycle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">DEBUG_RECYCLE</span><span class="token punctuation">)</span> mStack <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token function">freeBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">final</span> <span class="token class-name">Parcel</span><span class="token punctuation">[</span><span class="token punctuation">]</span> pool<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>mOwnsNativeParcelObject<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            pool <span class="token operator">=</span> sOwnedPool<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            mNativePtr <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            pool <span class="token operator">=</span> sHolderPool<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>pool<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token constant">POOL_SIZE</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>pool<span class="token punctuation">[</span>i<span class="token punctuation">]</span>  <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    pool<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span><span class="token comment">// #3_1</span>
                    <span class="token keyword">return</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre>
<h3 id="&#x6784;&#x9020;&#x7684;&#x8FC7;&#x7A0B;&#x662F;&#x600E;&#x6837;&#x7684;&#xFF1F;"><a name="&#x6784;&#x9020;&#x7684;&#x8FC7;&#x7A0B;&#x662F;&#x600E;&#x6837;&#x7684;&#xFF1F;" class="anchor-navigation-ex-anchor" href="#&#x6784;&#x9020;&#x7684;&#x8FC7;&#x7A0B;&#x662F;&#x600E;&#x6837;&#x7684;&#xFF1F;"><i class="fa fa-link" aria-hidden="true"></i></a>2.2.3. &#x6784;&#x9020;&#x7684;&#x8FC7;&#x7A0B;&#x662F;&#x600E;&#x6837;&#x7684;&#xFF1F;</h3>
<pre class="language-"><code class="lang-java"><span class="token comment">//Parcel.java</span>
    <span class="token keyword">private</span> <span class="token class-name">Parcel</span><span class="token punctuation">(</span><span class="token keyword">long</span> nativePtr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">DEBUG_RECYCLE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            mStack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token function">init</span><span class="token punctuation">(</span>nativePtr<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre>
<h3 id="parcel&#x4E0E;ibinder&#x7684;&#x5173;&#x7CFB;&#xFF1F;&#xFF1F;&#xFF1F;"><a name="parcel&#x4E0E;ibinder&#x7684;&#x5173;&#x7CFB;&#xFF1F;&#xFF1F;&#xFF1F;" class="anchor-navigation-ex-anchor" href="#parcel&#x4E0E;ibinder&#x7684;&#x5173;&#x7CFB;&#xFF1F;&#xFF1F;&#xFF1F;"><i class="fa fa-link" aria-hidden="true"></i></a>2.2.4. parcel&#x4E0E;Ibinder&#x7684;&#x5173;&#x7CFB;&#xFF1F;&#xFF1F;&#xFF1F;</h3>
<h1 id="todo&#xFF1A;&#x5E8F;&#x5217;&#x5316;&#x6700;&#x7EC8;&#x7684;&#x627F;&#x8F7D;&#x7684;&#x5BB9;&#x5668;&#x662F;&#x4EC0;&#x4E48;&#xFF1F;buffer&#xFF1F;"><a name="todo&#xFF1A;&#x5E8F;&#x5217;&#x5316;&#x6700;&#x7EC8;&#x7684;&#x627F;&#x8F7D;&#x7684;&#x5BB9;&#x5668;&#x662F;&#x4EC0;&#x4E48;&#xFF1F;buffer&#xFF1F;" class="anchor-navigation-ex-anchor" href="#todo&#xFF1A;&#x5E8F;&#x5217;&#x5316;&#x6700;&#x7EC8;&#x7684;&#x627F;&#x8F7D;&#x7684;&#x5BB9;&#x5668;&#x662F;&#x4EC0;&#x4E48;&#xFF1F;buffer&#xFF1F;"><i class="fa fa-link" aria-hidden="true"></i></a>3. TODO&#xFF1A;&#x5E8F;&#x5217;&#x5316;&#x6700;&#x7EC8;&#x7684;&#x627F;&#x8F7D;&#x7684;&#x5BB9;&#x5668;&#x662F;&#x4EC0;&#x4E48;&#xFF1F;buffer&#xFF1F;</h1>
<pre class="language-"><code class="lang-java">parce&#x5982;&#x4F55;&#x5E8F;&#x5217;&#x5316;&#x7684;&#xFF1F;<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-&gt;</span>  <span class="token comment">//&#x5316;&#x7B80;&#x4E4B;val&#x4FE1;&#x606F;&#x6D41;</span>
     <span class="token class-name">Parcel</span><span class="token operator">::</span><span class="token function">writeChar</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> 
          <span class="token function">writeAligned</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> 
              <span class="token operator">*</span>reinterpret_cast<span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>mData<span class="token operator">+</span>mDataPos<span class="token punctuation">)</span> <span class="token operator">=</span> val<span class="token punctuation">;</span>   <span class="token comment">// &#x4E00;&#x884C;&#x5173;&#x952E;&#x4EE3;&#x7801;</span>
</code></pre>
<p>&#x6240;&#x6709;&#x7684;write&#xFF0C;&#x6700;&#x7EC8;&#x90FD;&#x8D70;&#x5230;writeAligned&#xFF1A;</p>
<p><img src="IPC&#x524D;&#x63D0;_&#x5E8F;&#x5217;&#x5316;.assets/image-20231127005612509.png" alt="image-20231127005612509"></p>
<p>writeAligned&#xFF08;<strong>&#x5199;&#x5165;&#x5BF9;&#x9F50;</strong>&#xFF09;</p>
<p>&#x53C2;&#x8003;&#xFF1A;</p>
<blockquote>
<p><a href="https://blog.csdn.net/qq_32019367/article/details/122616157" target="_blank">https://blog.csdn.net/qq_32019367/article/details/122616157</a></p>
</blockquote>
<h1 id="&#x4ECE;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x770B;parcel"><a name="&#x4ECE;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x770B;parcel" class="anchor-navigation-ex-anchor" href="#&#x4ECE;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x770B;parcel"><i class="fa fa-link" aria-hidden="true"></i></a>4. &#x4ECE;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x770B;Parcel</h1>
<p>1&#x3001;&#x6E90;&#x7801;&#x89D2;&#x5EA6;&#xFF1A;</p>
<p>2&#x3001;&#x6A21;&#x578B;&#x89D2;&#x5EA6;&#xFF1A;</p>
<h2 id="parceldatasize-&#x8BA1;&#x7B97;&#xFF1A;"><a name="parceldatasize-&#x8BA1;&#x7B97;&#xFF1A;" class="anchor-navigation-ex-anchor" href="#parceldatasize-&#x8BA1;&#x7B97;&#xFF1A;"><i class="fa fa-link" aria-hidden="true"></i></a>4.1. Parcel.dataSize() &#x8BA1;&#x7B97;&#xFF1A;</h2>
<p>parcel<strong><font color="red">&#x6570;&#x636E;&#x91CF;Parcel.dataSize()&#x503C;&#x4E3A;</font>&#xFF1A;</strong></p>
<blockquote>
<p>&#x6C42;&#x548C;&#x3A3; &#xFF08;4&#xFF08; &#x8BB0;&#x5F55;byte&#x957F;&#x5EA6;&#x7684;int&#xFF09; + byte &#x6570;&#x636E;&#x672C;&#x8EAB;&#xFF09;</p>
</blockquote>
<p><strong>4&#x662F;&#x989D;&#x5916;&#x7684;&#x5F00;&#x9500;&#xFF0C;&#x8BB0;&#x5F55;&#x6240;&#x7528;&#x7684;byte&#x957F;&#x5EA6;</strong></p>
<p>&#x4EE5;writeByteArray&#x4E3A;&#x4F8B;&#x5B50;&#xFF1A;</p>
<pre class="language-"><code class="lang-java">android_os_Parcel_writeByteArray<span class="token punctuation">{</span>
   parcel<span class="token operator">-&gt;</span><span class="token function">writeInt32</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x8BB0;&#x5F55;&#x540E;&#x9762;&#x4FDD;&#x5B58;&#x7684;byte&#x957F;&#x5EA6;</span>
   <span class="token function">memcpy</span><span class="token punctuation">(</span>dest<span class="token punctuation">,</span> ar <span class="token operator">+</span> offset<span class="token punctuation">,</span> length<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>&#x4EE5;Parcel::writeString16&#x4E3A;&#x4F8B;&#x5B50;&#xFF1A;</p>
<pre class="language-"><code class="lang-java"><span class="token function">writeInt32</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x8BB0;&#x5F55;&#x957F;&#x5EA6;</span>
<span class="token function">memcpy</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> str<span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h1 id="cpp-parcel&#x7684;&#x4F7F;&#x7528;"><a name="cpp-parcel&#x7684;&#x4F7F;&#x7528;" class="anchor-navigation-ex-anchor" href="#cpp-parcel&#x7684;&#x4F7F;&#x7528;"><i class="fa fa-link" aria-hidden="true"></i></a>5. cpp Parcel&#x7684;&#x4F7F;&#x7528;</h1>
<p><a href="https://www.cnblogs.com/songsongman/p/11097216.html" target="_blank">Android native&#x8FDB;&#x7A0B;&#x95F4;&#x901A;&#x4FE1;&#x5B9E;&#x4F8B;-binder&#x7BC7;&#x4E4B;&#x2014;&#x2014;&#x7528;parcel&#x4F20;&#x8F93;&#x6570;&#x7EC4; - &#x554A;&#x6E90;&#x80A1; - &#x535A;&#x5BA2;&#x56ED; (cnblogs.com)</a></p>
<p><a href="https://blog.csdn.net/lxgwm2008/article/details/8767146" target="_blank">https://blog.csdn.net/lxgwm2008/article/details/8767146</a>       Android&#x6E90;&#x7801;&#x4E4B;Parcel</p>
<p>&#x771F;&#x6B63;&#x7684;&#x5E8F;&#x5217;&#x5316;&#x4E0E;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x63A5;&#x53E3;  ------------&gt;  byte[]</p>
<p>public final native byte[] marshall(); public final native void unmarshall(byte[] data, int offest, int length);</p>
<p>&#x4F5C;&#x7528;&#x7C7B;&#x4F3C;&#x4E8E;&#x5E8F;&#x5217;&#x5316;&#x548C;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x3002;&#x5373;&#x5C06;&#x5F53;&#x524D;Parcel&#x7684;&#x6570;&#x636E;&#x5E8F;&#x5217;&#x5316;&#x4E3A;byte&#x6570;&#x7EC4;&#xFF0C;&#x6216;&#x8005;&#x5C06;byte&#x6570;&#x7EC4;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x5230;&#x5F53;&#x524D;Parcel&#x4E2D;&#x3002;</p>
<p>&#x6CE8;&#xFF1A;unmarshall&#x540E;&#xFF0C;&#x5982;&#x679C;&#x8981;&#x8BFB;&#x53D6;&#x6570;&#x636E;&#xFF0C;&#x9996;&#x5148;&#x9700;&#x8981;&#x5C06;&#x6587;&#x4EF6;&#x6307;&#x9488;&#x79FB;&#x52A8;&#x5230;&#x521D;&#x59CB;&#x5316;&#x4F4D;&#x7F6E;&#xFF0C;&#x5373;setDataPosition(0)&#x3002;</p>
<p><a href="https://www.cnblogs.com/songsongman/p/11097196.html" target="_blank">Android native&#x8FDB;&#x7A0B;&#x95F4;&#x901A;&#x4FE1;&#x5B9E;&#x4F8B;-binder&#x7BC7;&#x4E4B;&#x2014;&#x2014;&#x7B80;&#x5355;&#x7684;&#x5355;&#x5DE5;&#x901A;&#x4FE1; - &#x554A;&#x6E90;&#x80A1; - &#x535A;&#x5BA2;&#x56ED; (cnblogs.com)</a></p>
<p>--------------&gt; &#x5316;&#x7B80;native Binder</p>
<h2 id="parcel"><a name="parcel" class="anchor-navigation-ex-anchor" href="#parcel"><i class="fa fa-link" aria-hidden="true"></i></a>5.1. parcel</h2>
<p>&#x6700;&#x540E;&#x4E00;&#x5B9A;&#x8981;&#x52A0;&#x4E0A;setDataPosition(0)&#xFF0C;&#x5C06;&#x504F;&#x79FB;&#x6307;&#x56DE;&#x6700;&#x5F00;&#x59CB;</p>
<p><a href="https://developer.aliyun.com/article/919839" target="_blank">https://developer.aliyun.com/article/919839</a></p>
<p><a href="https://www.coder.work/article/3235747" target="_blank">Android &#x539F;&#x751F; Parcel &#x4F7F;&#x7528; - IT&#x5DE5;&#x5177;&#x7F51; (coder.work)</a></p>
<h2 id="parcel&#x7684;&#x68B3;&#x7406;"><a name="parcel&#x7684;&#x68B3;&#x7406;" class="anchor-navigation-ex-anchor" href="#parcel&#x7684;&#x68B3;&#x7406;"><i class="fa fa-link" aria-hidden="true"></i></a>5.2. parcel&#x7684;&#x68B3;&#x7406;</h2>
<h2 id="&#x591A;&#x53C2;&#x6570;&#x51FD;&#x6570;&#xFF0C;&#x591A;&#x53C2;&#x6570;&#x5982;&#x4F55;&#x5E8F;&#x5217;&#x5316;&#x4E0E;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x7684;&#xFF1F;-----&#x5206;&#x5C42;&#x5206;&#x6790;"><a name="&#x591A;&#x53C2;&#x6570;&#x51FD;&#x6570;&#xFF0C;&#x591A;&#x53C2;&#x6570;&#x5982;&#x4F55;&#x5E8F;&#x5217;&#x5316;&#x4E0E;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x7684;&#xFF1F;-----&#x5206;&#x5C42;&#x5206;&#x6790;" class="anchor-navigation-ex-anchor" href="#&#x591A;&#x53C2;&#x6570;&#x51FD;&#x6570;&#xFF0C;&#x591A;&#x53C2;&#x6570;&#x5982;&#x4F55;&#x5E8F;&#x5217;&#x5316;&#x4E0E;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x7684;&#xFF1F;-----&#x5206;&#x5C42;&#x5206;&#x6790;"><i class="fa fa-link" aria-hidden="true"></i></a>5.3. &#x591A;&#x53C2;&#x6570;&#x51FD;&#x6570;&#xFF0C;&#x591A;&#x53C2;&#x6570;&#x5982;&#x4F55;&#x5E8F;&#x5217;&#x5316;&#x4E0E;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x7684;&#xFF1F;-----&#x5206;&#x5C42;&#x5206;&#x6790;</h2>
<h3 id="&#x5E8F;&#x5217;&#x5316;&#x6D41;&#x7A0B;&#xFF1A;"><a name="&#x5E8F;&#x5217;&#x5316;&#x6D41;&#x7A0B;&#xFF1A;" class="anchor-navigation-ex-anchor" href="#&#x5E8F;&#x5217;&#x5316;&#x6D41;&#x7A0B;&#xFF1A;"><i class="fa fa-link" aria-hidden="true"></i></a>5.3.1. &#x5E8F;&#x5217;&#x5316;&#x6D41;&#x7A0B;&#xFF1A;</h3>
<pre class="language-"><code> readParcelableCreator:3328, Parcel (android.os)
 readParcelable:3273, Parcel (android.os)
 readFromParcel:240, WindowConfiguration (android.app)
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init</span><span class="token punctuation">&gt;</span></span>:224, WindowConfiguration (android.app)
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init</span><span class="token punctuation">&gt;</span></span>:49, WindowConfiguration (android.app)
 createFromParcel:257, WindowConfiguration$1 (android.app)
 createFromParcel:254, WindowConfiguration$1 (android.app)
 readParcelable:3282, Parcel (android.os)
 readValue:3175, Parcel (android.os)
 readFromParcel:1956, Configuration (android.content.res)
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init</span><span class="token punctuation">&gt;</span></span>:1976, Configuration (android.content.res)
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init</span><span class="token punctuation">&gt;</span></span>:89, Configuration (android.content.res)
 createFromParcel:1964, Configuration$1 (android.content.res)
 createFromParcel:1962, Configuration$1 (android.content.res)
 readParcelable:3282, Parcel (android.os)
 readFromParcel:69, MergedConfiguration (android.util)
 relayout:1735, IWindowSession$Stub$Proxy (android.view)  // -----------&gt;  &#x8FD9;&#x91CC;
 relayoutWindow:7621, ViewRootImpl (android.view)
 performTraversals:2719, ViewRootImpl (android.view)
 doTraversal:2020, ViewRootImpl (android.view)
 run:8410, ViewRootImpl$TraversalRunnable (android.view)
 run:973, Choreographer$CallbackRecord (android.view)
 doCallbacks:797, Choreographer (android.view)
 doFrame:732, Choreographer (android.view)
 run:958, Choreographer$FrameDisplayEventReceiver (android.view)
 handleCallback:938, Handler (android.os)
 dispatchMessage:99, Handler (android.os)
 loop:223, Looper (android.os)
 main:7720, ActivityThread (android.app)
 invoke:-1, Method (java.lang.reflect)
 run:612, RuntimeInit$MethodAndArgsCaller (com.android.internal.os)
 main:997, ZygoteInit (com.android.internal.os)
</code></pre><p>client&#x4FA7;--------------------stub&#x5C42;&#x4EE3;&#x7801;</p>
<pre class="language-"><code> //&#x5E8F;&#x5217;&#x5316;&#x6D41;&#x7A0B;&#xFF1A;
 @Override public int relayout(android.view.IWindow window, int seq, android.view.WindowManager.LayoutParams attrs, int requestedWidth, int requestedHeight, int viewVisibility, int flags, long frameNumber, android.graphics.Rect outFrame, android.graphics.Rect outContentInsets, android.graphics.Rect outVisibleInsets, android.graphics.Rect outStableInsets, android.graphics.Rect outBackdropFrame, android.view.DisplayCutout.ParcelableWrapper displayCutout, android.util.MergedConfiguration outMergedConfiguration, android.view.SurfaceControl outSurfaceControl, android.view.InsetsState insetsState, android.view.InsetsSourceControl[] activeControls, android.graphics.Point outSurfaceSize, android.view.SurfaceControl outBlastSurfaceControl) throws android.os.RemoteException
 {
 android.os.Parcel _data = android.os.Parcel.obtain();
 android.os.Parcel _reply = android.os.Parcel.obtain();
 int _result;
 try {
   _data.writeInterfaceToken(DESCRIPTOR);  // &#x5F53;&#x524D;aidl&#x7C7B;&#x540D;&#xFF1A;android.view.IWindowSession
   _data.writeStrongBinder((((window!=null))?(window.asBinder()):(null))); // writeStrongBinder&#x76F4;&#x63A5;write  Binder&#x6570;&#x636E;&#xFF1F;  &#x8FD9;&#x4E00;&#x6B65;&#x8DE8;&#x8FDB;&#x7A0B;&#x4E86;&#x561B;&#xFF1F;
   _data.writeInt(seq);
   if ((attrs!=null)) {
     _data.writeInt(1);
     attrs.writeToParcel(_data, 0);  //  LayoutParams&#x6570;&#x636E;&#x5199;&#x5165;parcel
   }
   else {
     _data.writeInt(0);
   }
   _data.writeInt(requestedWidth);
   _data.writeInt(requestedHeight);
   _data.writeInt(viewVisibility);
   _data.writeInt(flags);
   _data.writeLong(frameNumber);
   if ((activeControls==null)) {
     _data.writeInt(-1);
   }
   else {
     _data.writeInt(activeControls.length);
   }
   boolean _status = mRemote.transact(Stub.TRANSACTION_relayout, _data, _reply, 0); // &#x6240;&#x6709;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x5165;&#x4E86;parcel&#xFF0C;&#x7ED9;&#x4E86;android.os.IBinder mRemote; // &#x3010;&#x3011; &#x901A;&#x8FC7;code&#x6307;&#x5B9A;&#x51FD;&#x6570;
   if (!_status &amp;&amp; getDefaultImpl() != null) {
     return getDefaultImpl().relayout(window, seq, attrs, requestedWidth, requestedHeight, viewVisibility, flags, frameNumber, outFrame, outContentInsets, outVisibleInsets, outStableInsets, outBackdropFrame, displayCutout, outMergedConfiguration, outSurfaceControl, insetsState, activeControls, outSurfaceSize, outBlastSurfaceControl);
   }
   _reply.readException();
   _result = _reply.readInt();
   if ((0!=_reply.readInt())) {
     outFrame.readFromParcel(_reply);
   }
   if ((0!=_reply.readInt())) {
     outContentInsets.readFromParcel(_reply);
   }
   if ((0!=_reply.readInt())) {
     outVisibleInsets.readFromParcel(_reply);
   }
   if ((0!=_reply.readInt())) {
     outStableInsets.readFromParcel(_reply);
   }
   if ((0!=_reply.readInt())) {
     outBackdropFrame.readFromParcel(_reply);
   }
   if ((0!=_reply.readInt())) {
     displayCutout.readFromParcel(_reply);
   }
   if ((0!=_reply.readInt())) {
     outMergedConfiguration.readFromParcel(_reply);
   }
   if ((0!=_reply.readInt())) {
     outSurfaceControl.readFromParcel(_reply);
   }
   if ((0!=_reply.readInt())) {
     insetsState.readFromParcel(_reply);
   }
   _reply.readTypedArray(activeControls, android.view.InsetsSourceControl.CREATOR);
   if ((0!=_reply.readInt())) {
     outSurfaceSize.readFromParcel(_reply);
   }
   if ((0!=_reply.readInt())) {
     outBlastSurfaceControl.readFromParcel(_reply);
   }
 }
 finally {
   _reply.recycle();
   _data.recycle();
 }
 return _result;
 }
</code></pre><p>&#x603B;&#x7ED3;&#xFF1A;&#x5E8F;&#x5217;&#x5316;&#x8FC7;&#x7A0B;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF1A;</p>
<p>&#xFF08;1&#xFF09;&#x628A;&#x5F53;&#x524D;Iwindow&#x63A5;&#x53E3;&#x540D;&#x3001;&#x5404;&#x4E2A;&#x51FD;&#x6570;&#x53C2;&#x6570;  ----------&gt;  &#x7EDF;&#x4E00;&#x8FDB;&#x5165;parcel</p>
<p>&#xFF08;2&#xFF09; &#x5982;&#x4F55;&#x786E;&#x5B9A;&#x662F;&#x54EA;&#x4E2A;&#x51FD;&#x6570;&#xFF1F; &#x901A;&#x8FC7;code</p>
<p>---------------------&gt; <strong>&#x5408;&#x7406;&#x6027;&#x8BC1;&#x660E;&#xFF1A;&#x4EE5;&#x4E0A;&#x90FD;&#x662F;&#x7EA6;&#x675F;&#x3001;&#x534F;&#x8BAE;</strong></p>
<p>&#xFF08;3&#xFF09; &#x6BCF;&#x4E00;&#x5C42;&#x505A;&#x6BCF;&#x4E00;&#x5C42;&#x7684;&#x4E8B;&#x60C5;&#xFF1A;</p>
<blockquote>
<p>AIDL&#x7EA7;&#x522B;&#xFF1A; &#x5E8F;&#x5217;&#x5316;  &#x591A;&#x4E2A;&#x53C2;&#x6570;&#xFF08;parcelable&#xFF09;&lt;------------------&gt;  &#x4E0E;Aidl&#x7684;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x4E00;&#x81F4;</p>
<p>&#x7C7B;&#x7EA7;&#x522B;&#xFF1A;&#x5E8F;&#x5217;&#x5316;&#x7C7B;&#x7684;&#x5185;&#x90E8;&#x5C5E;&#x6027; &lt;------------------&gt;  &#x4E0E;&#x7C7B;&#x7684;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x4E00;&#x81F4;</p>
</blockquote>
<p>---------------------&gt; &#x4ECE;&#x8FD9;&#x4E2A;&#x89D2;&#x5EA6;&#x6765;&#x770B;&#xFF1A;</p>
<blockquote>
<p>&#x4E3A;&#x5565;&#xFF1A;L&#x8C03;&#x7528;A&#xFF0C;&#x53EF;&#x4EE5;&#x7701;&#x53BB;    AIDL&#x7EA7;&#x522B; &#x7684;&#x5E8F;&#x5217;&#x5316;&#xFF1F;&#xFF1F;&#xFF1F;&#xFF1F;&#xFF1F;&#xFF1F;</p>
<p>&#xFF08;1&#xFF09;&#x56E0;&#x4E3A;&#x53CD;&#x5C04;&#x7684;&#x4F5C;&#x7528;&#xFF1F;&#xFF1F;&#xFF1F;&#xFF1F;&#xFF1F;&#xFF1F;&#xFF1F;</p>
<p>&#xFF08;2&#xFF09;&#x662F;&#x4E0D;&#x662F;&#x4E5F;&#x53EF;&#x4EE5;&#x81EA;&#x5DF1;&#x505A;&#x4E00;&#x4E2A; AIDL &#x94FE;&#x63A5; cpp-----java&#x5462;&#xFF1F;</p>
</blockquote>
<h3 id="&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x6D41;&#x7A0B;&#xFF1A;"><a name="&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x6D41;&#x7A0B;&#xFF1A;" class="anchor-navigation-ex-anchor" href="#&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x6D41;&#x7A0B;&#xFF1A;"><i class="fa fa-link" aria-hidden="true"></i></a>5.3.2. &#x53CD;&#x5E8F;&#x5217;&#x5316;&#x6D41;&#x7A0B;&#xFF1A;</h3>
<h4 id="&#x5982;&#x4F55;&#x5BFB;&#x627E;&#x51FD;&#x6570;"><a name="&#x5982;&#x4F55;&#x5BFB;&#x627E;&#x51FD;&#x6570;" class="anchor-navigation-ex-anchor" href="#&#x5982;&#x4F55;&#x5BFB;&#x627E;&#x51FD;&#x6570;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5982;&#x4F55;&#x5BFB;&#x627E;&#x51FD;&#x6570;</h4>
<p>Stub.onTransact  &#x2014;&#x2014;--&gt;  &#x51FD;&#x6570;code 4 &#x627E;&#x5230;&#x5BF9;&#x5E94;relayout</p>
<p>&#x7ED9;&#x5B9A; Parcel</p>
<h4 id="&#x5982;&#x4F55;&#x521B;&#x5EFA;-&#x53C2;&#x6570;&#xFF08;&#x5BF9;&#x8C61;&#xFF09;-----createfromparcel"><a name="&#x5982;&#x4F55;&#x521B;&#x5EFA;-&#x53C2;&#x6570;&#xFF08;&#x5BF9;&#x8C61;&#xFF09;-----createfromparcel" class="anchor-navigation-ex-anchor" href="#&#x5982;&#x4F55;&#x521B;&#x5EFA;-&#x53C2;&#x6570;&#xFF08;&#x5BF9;&#x8C61;&#xFF09;-----createfromparcel"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5982;&#x4F55;&#x521B;&#x5EFA; &#x53C2;&#x6570;&#xFF08;&#x5BF9;&#x8C61;&#xFF09;-----createFromParcel</h4>
<p>1&#x3001;&#x5728;AIDL&#x7F16;&#x8BD1;&#x51FA;&#x7684;java&#x91CC;(IWindowSession.java)</p>
<pre class="language-"><code class="lang-java"><span class="token comment">//onTranction:</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token operator">!=</span>data<span class="token punctuation">.</span><span class="token function">readInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// TODO: &#x8FD9;&#x91CC;&#x4E3A;&#x5565;&#x662F;0&#x5462;&#xFF1F; &#x5B89;&#x5353;&#x5728;&#x4F18;&#x5316;</span>
    _arg1 <span class="token operator">=</span> <span class="token class-name"><span class="token namespace">android<span class="token punctuation">.</span>graphics<span class="token punctuation">.</span></span>Region</span><span class="token punctuation">.</span><span class="token constant">CREATOR</span><span class="token punctuation">.</span><span class="token function">createFromParcel</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre>
<p>&#x7279;&#x70B9;&#xFF1A;</p>
<blockquote>
<p>&#xFF08;1&#xFF09;&#x8FD9;&#x91CC;&#x4E0D;&#x5B58;&#x5728;&#x53CD;&#x5C04;</p>
<p>&#xFF08;2&#xFF09;android.graphics.Region.CREATOR &#x7C7B;&#x7684;&#x5BFB;&#x627E;&#xFF0C;&#x662F;&#x901A;&#x8FC7; &#x811A;&#x672C;&#x7F16;&#x8BD1;&#x751F;&#x6210;&#x7684;java&#x7C7B;&#x5B8C;&#x6210;&#x7684;&#xFF01;&#xFF01;&#xFF01;&#xFF01;&#xFF01;&#xFF01;</p>
</blockquote>
<p>2&#x3001;&#x4F3C;&#x4E4E;&#x4E5F;&#x6709;&#x53CD;&#x5C04;&#x65B9;&#x6CD5;&#xFF08;<font color="red">&#x4F18;&#x5316;&#xFF1A;&#x63D0;&#x524D;&#x7F13;&#x5B58;</font>&#xFF09;:</p>
<p>&#x63A5;&#x53E3;&#x4E00;&#xFF1A;</p>
<blockquote>
<pre class="language-"><code class="lang-java"><span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ClassLoader</span><span class="token punctuation">,</span><span class="token class-name">HashMap</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Parcelable<span class="token punctuation">.</span>Creator</span><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token comment">//  &#x6284; </span>
<span class="token class-name">Parcelable<span class="token punctuation">.</span>Creator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token function">readParcelableCreator</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Nullable</span> <span class="token class-name">ClassLoader</span> loader<span class="token punctuation">)</span> <span class="token comment">// --------&gt; &#x63A5;&#x53E3;&#x4F5C;&#x7528;&#xFF1A;&#x4ECE; &#x7C7B;&#x540D;&#xFF08;&#x6BD4;&#x5982;Intent&#xFF09; &#x83B7;&#x53D6;&#x5BF9;&#x5E94;&#x7C7B;&#x7684;CREATOR</span>
<span class="token comment">// &#x521B;&#x5EFA;creator&#xFF0C;&#x8FD9;&#x91CC;&#x4E5F;&#x662F;java&#x53CD;&#x5C04; </span>
<span class="token class-name">Field</span> f <span class="token operator">=</span> parcelableClass<span class="token punctuation">.</span><span class="token function">getField</span><span class="token punctuation">(</span><span class="token string">&quot;CREATOR&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
creator <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Parcelable<span class="token punctuation">.</span>Creator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span> f<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</blockquote>
<p>&lt;-------------&#x5728;&#x6B64;&#x4E4B;&#x524D; </p>
<pre class="language-"><code class="lang-java"><span class="token class-name">ClassLoader</span> parcelableClassLoader <span class="token operator">=</span> <span class="token punctuation">(</span>loader <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> loader<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Avoid initializing the Parcelable class until we know it implements // Parcelable and has the necessary CREATOR field. http://b/1171613. </span>
<span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> parcelableClass <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token boolean">false</span> <span class="token comment">/* initialize */</span><span class="token punctuation">,</span> parcelableClassLoader<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<blockquote>
<p>&#x573A;&#x666F;&#xFF1A; &#x4F20;&#x8F93;&#x7684;&#x7C7B;&#x662F;&#x62BD;&#x8C61;&#x7C7B;&#xFF08;&#x6216;&#x8005;&#x7236;&#x7C7B;&#xFF09;&#xFF0C;<strong>&#x63A5;&#x6536;&#x7AEF;&#x4E0D;&#x77E5;&#x9053;&#x662F;&#x54EA;&#x4E2A;&#x5177;&#x4F53;&#x5B50;&#x7C7B;&#xFF01;&#xFF01;&#xFF01;&#xFF01;&#xFF01;&#x4E0D;&#x597D;&#x5199;&#x6B7B;</strong></p>
<pre class="language-"><code class="lang-java">&#x53CD;&#x5E8F;&#x5217;&#x5316;<span class="token class-name">ClientTransaction</span>&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;parcel&#x6570;&#x636E;&#x4E2D;&#x5E26;&#x4E86;&#x4E00;&#x4E9B; <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ClientTransactionItem</span><span class="token punctuation">&gt;</span></span> mActivityCallbacks<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">&gt;</span>  &#x62BD;&#x8C61;&#x7C7B;
&#x8FD9;&#x4E9B;callback&#x53EF;&#x80FD;&#x662F;&#x67D0;&#x4E2A;&#x5177;&#x4F53;&#x7684;&#x5B50;&#x7C7B;&#xFF0C;&#x6BD4;&#x5982; <span class="token class-name">TopResumedActivityChangeItem</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">&gt;</span>  &#x5177;&#x4F53;&#x7C7B;
&#x63A5;&#x6536;&#x7AEF;&#x662F;&#x6CA1;&#x6CD5;&#x5728;&#x4EE3;&#x7801;&#x4E2D;&#x5199;&#x6B7B;&#x7684;&#xFF1A;&#x6BD4;&#x5982;<span class="token class-name">TopResumedActivityChangeItem</span><span class="token punctuation">.</span><span class="token constant">CREATOR</span><span class="token punctuation">.</span>createFromParcel
</code></pre>
<p>TODO: &#x7C7B;&#x540D;&#x4EC0;&#x4E48;&#x65F6;&#x5019;&#x88AB;&#x5E8F;&#x5217;&#x5316;&#x8FDB;&#x53BB;&#x7684;&#xFF1F;&#xFF1F;&#xFF1F;&#xFF1F;&#xFF1F;&#xFF1F;</p>
</blockquote>
<p>-<font color="red">&#x4E0A;&#x8FF0;&#x7CBE;&#x9AD3;&#xFF1A;</font></p>
<blockquote>
<p>&#x53EA;&#x7F13;&#x5B58;&#x4E86;&#x7C7B;Intent&#x7684;&#x521B;&#x5EFA;&#x65B9;&#x5F0F;CREATOR  --------&gt;  &#x4ECE;Intent&#x89D2;&#x5EA6;&#xFF1A; &#x521B;&#x5EFA;&#x65B9;&#x5F0F;CREATOR&#x53EA;&#x662F;&#x5176;&#x4E00;&#x4E2A;&#x5C5E;&#x6027;&#x503C;&#xFF08;&#x9759;&#x6001;&#x7684;&#xFF09;&#xFF0C;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x4E00;&#x4E2A;&#x533F;&#x540D;&#x7C7B;</p>
<p>&#x521B;&#x5EFA;&#x65B9;&#x5F0F;&#x662F;&#x9759;&#x6001;&#x65B9;&#x6CD5;</p>
</blockquote>
<p>&#x63A5;&#x53E3;&#x4E8C;&#xFF1A;</p>
<pre class="language-"><code class="lang-java"><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Parcelable</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">T</span> <span class="token function">readParcelable</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Nullable</span> <span class="token class-name">ClassLoader</span> loader<span class="token punctuation">)</span>
<span class="token comment">// &#x76F4;&#x63A5;&#x8BFB;&#x53D6;&#xFF0C;&#x5E76;&#x521B;&#x9020;&#x4E0B;&#x4E00;&#x4E2A;Parcelable&#x7C7B;</span>
</code></pre>
<p>&#x8C03;&#x7528;&#x6808;&#xFF1A;</p>
<pre class="language-"><code class="lang-java">readParcelableCreator<span class="token operator">:</span><span class="token number">3320</span><span class="token punctuation">,</span> <span class="token class-name">Parcel</span> <span class="token punctuation">(</span>android<span class="token punctuation">.</span>os<span class="token punctuation">)</span>
readParcelable<span class="token operator">:</span><span class="token number">3273</span><span class="token punctuation">,</span> <span class="token class-name">Parcel</span> <span class="token punctuation">(</span>android<span class="token punctuation">.</span>os<span class="token punctuation">)</span>
readParcelableList<span class="token operator">:</span><span class="token number">3053</span><span class="token punctuation">,</span> <span class="token class-name">Parcel</span> <span class="token punctuation">(</span>android<span class="token punctuation">.</span>os<span class="token punctuation">)</span>
<span class="token generics"><span class="token punctuation">&lt;</span>init<span class="token punctuation">&gt;</span></span><span class="token operator">:</span><span class="token number">204</span><span class="token punctuation">,</span> <span class="token class-name">ClientTransaction</span> <span class="token punctuation">(</span>android<span class="token punctuation">.</span>app<span class="token punctuation">.</span>servertransaction<span class="token punctuation">)</span>
<span class="token generics"><span class="token punctuation">&lt;</span>init<span class="token punctuation">&gt;</span></span><span class="token operator">:</span><span class="token number">44</span><span class="token punctuation">,</span> <span class="token class-name">ClientTransaction</span> <span class="token punctuation">(</span>android<span class="token punctuation">.</span>app<span class="token punctuation">.</span>servertransaction<span class="token punctuation">)</span>
createFromParcel<span class="token operator">:</span><span class="token number">211</span><span class="token punctuation">,</span> <span class="token class-name">ClientTransaction</span>$<span class="token number">1</span> <span class="token punctuation">(</span>android<span class="token punctuation">.</span>app<span class="token punctuation">.</span>servertransaction<span class="token punctuation">)</span>
createFromParcel<span class="token operator">:</span><span class="token number">209</span><span class="token punctuation">,</span> <span class="token class-name">ClientTransaction</span>$<span class="token number">1</span> <span class="token punctuation">(</span>android<span class="token punctuation">.</span>app<span class="token punctuation">.</span>servertransaction<span class="token punctuation">)</span>
onTransact<span class="token operator">:</span><span class="token number">1276</span><span class="token punctuation">,</span> <span class="token class-name">IApplicationThread</span>$<span class="token class-name">Stub</span> <span class="token punctuation">(</span>android<span class="token punctuation">.</span>app<span class="token punctuation">)</span>
execTransactInternal<span class="token operator">:</span><span class="token number">1159</span><span class="token punctuation">,</span> <span class="token class-name">Binder</span> <span class="token punctuation">(</span>android<span class="token punctuation">.</span>os<span class="token punctuation">)</span>
execTransact<span class="token operator">:</span><span class="token number">1123</span><span class="token punctuation">,</span> <span class="token class-name">Binder</span> <span class="token punctuation">(</span>android<span class="token punctuation">.</span>os<span class="token punctuation">)</span>
</code></pre>
<h2 id="todo&#xFF1A;-&#x4ECE;&#x6A21;&#x578B;&#x89D2;&#x5EA6;&#xFF0C;&#x5229;&#x7528;&#x4E86;&#x4EC0;&#x4E48;&#x8BED;&#x8A00;&#x7279;&#x6027;&#x5B9E;&#x73B0;&#x7684;aidl&#x63A5;&#x53E3;&#xFF1F;"><a name="todo&#xFF1A;-&#x4ECE;&#x6A21;&#x578B;&#x89D2;&#x5EA6;&#xFF0C;&#x5229;&#x7528;&#x4E86;&#x4EC0;&#x4E48;&#x8BED;&#x8A00;&#x7279;&#x6027;&#x5B9E;&#x73B0;&#x7684;aidl&#x63A5;&#x53E3;&#xFF1F;" class="anchor-navigation-ex-anchor" href="#todo&#xFF1A;-&#x4ECE;&#x6A21;&#x578B;&#x89D2;&#x5EA6;&#xFF0C;&#x5229;&#x7528;&#x4E86;&#x4EC0;&#x4E48;&#x8BED;&#x8A00;&#x7279;&#x6027;&#x5B9E;&#x73B0;&#x7684;aidl&#x63A5;&#x53E3;&#xFF1F;"><i class="fa fa-link" aria-hidden="true"></i></a>5.4. TODO&#xFF1A; &#x4ECE;&#x6A21;&#x578B;&#x89D2;&#x5EA6;&#xFF0C;&#x5229;&#x7528;&#x4E86;&#x4EC0;&#x4E48;&#x8BED;&#x8A00;&#x7279;&#x6027;&#x5B9E;&#x73B0;&#x7684;Aidl&#x63A5;&#x53E3;&#xFF1F;</h2>
<h1 id="todo&#xFF1A;&#x5982;&#x4F55;&#x5BFB;&#x627E;&#x5230;&#x5BF9;&#x7AEF;&#x5BF9;&#x8C61;&#x7684;&#xFF1F;"><a name="todo&#xFF1A;&#x5982;&#x4F55;&#x5BFB;&#x627E;&#x5230;&#x5BF9;&#x7AEF;&#x5BF9;&#x8C61;&#x7684;&#xFF1F;" class="anchor-navigation-ex-anchor" href="#todo&#xFF1A;&#x5982;&#x4F55;&#x5BFB;&#x627E;&#x5230;&#x5BF9;&#x7AEF;&#x5BF9;&#x8C61;&#x7684;&#xFF1F;"><i class="fa fa-link" aria-hidden="true"></i></a>6. TODO&#xFF1A;&#x5982;&#x4F55;&#x5BFB;&#x627E;&#x5230;&#x5BF9;&#x7AEF;&#x5BF9;&#x8C61;&#x7684;&#xFF1F;</h1>
<p>AIDL&#x7F16;&#x8BD1;&#x51FA;&#x7684;stub  java&#x6587;&#x4EF6;</p>
<p>&#x4ECE;java&#x5C42;&#x6765;&#x770B;&#xFF1A;&#x662F;&#x62FF;&#x5230;&#x5BF9;&#x7AEF;&#x7684;&#x4EE3;&#x7406;proxy</p>
<p>&#x4ECE;cpp&#x5C42;&#x6765;&#x770B;&#xFF1A;</p>
<h1 id="&#x6280;&#x5DE7;&#x4E4B;&#x5E8F;&#x5217;&#x5316;&#x8C03;&#x8BD5;"><a name="&#x6280;&#x5DE7;&#x4E4B;&#x5E8F;&#x5217;&#x5316;&#x8C03;&#x8BD5;" class="anchor-navigation-ex-anchor" href="#&#x6280;&#x5DE7;&#x4E4B;&#x5E8F;&#x5217;&#x5316;&#x8C03;&#x8BD5;"><i class="fa fa-link" aria-hidden="true"></i></a>7. &#x6280;&#x5DE7;&#x4E4B;&#x5E8F;&#x5217;&#x5316;&#x8C03;&#x8BD5;</h1>
<h2 id="&#x4EE5;&#x504F;&#x6982;&#x5168;-&#x4E4B;parcel&#x6570;&#x636E;"><a name="&#x4EE5;&#x504F;&#x6982;&#x5168;-&#x4E4B;parcel&#x6570;&#x636E;" class="anchor-navigation-ex-anchor" href="#&#x4EE5;&#x504F;&#x6982;&#x5168;-&#x4E4B;parcel&#x6570;&#x636E;"><i class="fa fa-link" aria-hidden="true"></i></a>7.1. &#x4EE5;&#x504F;&#x6982;&#x5168; &#x4E4B;parcel&#x6570;&#x636E;</h2>
<p>&#xFF08;1&#xFF09;&#x5927;&#x5C0F;  dataSize() &#xFF08;2&#xFF09;&#x524D;&#x4E09;&#x4F4D;</p>

<script>console.log("plugin-popup....");document.onclick = function(e){ e.target.tagName === "IMG" && window.open(e.target.src,e.target.src)}</script><style>img{cursor:pointer}</style>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="AndriodIPC.html" class="navigation navigation-prev " aria-label="Previous page: Andriod IPC">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="socket.html" class="navigation navigation-next " aria-label="Next page: Socket">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"IPC前提_序列化","level":"1.6.2.2","depth":3,"next":{"title":"Socket","level":"1.6.2.3","depth":3,"path":"coding/0_IPC/socket.md","ref":"coding/0_IPC/socket.md","articles":[]},"previous":{"title":"Andriod IPC","level":"1.6.2.1","depth":3,"path":"coding/0_IPC/AndriodIPC.md","ref":"coding/0_IPC/AndriodIPC.md","articles":[]},"dir":"ltr"},"config":{"//":["这是多行注释：    anchor-navigation-ex 是","anchor-navigation-ex 是","click-reveal 本地使用ok，但是github在build pages时，不识别click-reveal","accordion 也是折叠代码段","anchor-navigation-ex 是"],"plugins":["anchor-navigation-ex","toggle-chapters","expandable-chapters-small","splitter","code","page-treeview","popup","-search","-lunr","sidebar-style","auto-scroll-table","click-reveal","accordion","pageview-count","search-pro","prism","prism-themes","-highlight"],"root":"./markdownsFiles","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"sidebar-style":{"author":"Kent","title":"《prove》"},"tbfed-pagefooter":{"copyright":"Copyright &copy ershouche-FE 2019","modify_label":"文件修订时间：","modify_format":"YYYY-MM-DD HH:mm:ss"},"page-treeview":{"collapsed":false,"copyright":"Copyright © aleen42","minHeaderCount":"1","minHeaderDeep":"1"},"prism":{"css":["prismjs/themes/prism-tomorrow.css"],"lang":{"flow":"typescript"},"ignore":["mermaid","eval-js"]},"disqus":{"shortName":"gitbookuse"},"splitter":{},"search-pro":{},"accordion":{},"auto-scroll-table":{},"popup":{},"lunr":{"maxIndexSize":400000},"code":{"copyButtons":true},"fontsettings":{"theme":"white","family":"sans","size":2},"click-reveal":{},"anchor-navigation-ex":{"associatedWithSummary":true,"float":{"floatIcon":"fa fa-navicon","level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"mode":"float","multipleH1":true,"pageTop":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"printLog":false,"showGoTop":true,"showLevel":true},"pageview-count":{},"prism-themes":{},"expandable-chapters-small":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"toggle-chapters":{}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"bookname":"笔记","variables":{},"title":"Kent的博客","gitbook":"*"},"file":{"path":"coding/0_IPC/IPC前提_序列化.md","mtime":"2024-03-14T16:25:01.206Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2024-07-02T16:01:06.346Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-toggle-chapters/toggle.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-code/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sidebar-style/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-auto-scroll-table/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-click-reveal/click_reveal.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-accordion/accordionSelector.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-pageview-count/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search-pro/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

