





# 目录





# 用户 & 用户组---linux用户

**设计的目的：**

> 用户，用户组（权限组？）

------------> 用户组：（1）文件 （2） 进程？

为什么要有用户组？

与进程组什么区别？

```java
  UID ------  用户id， 1000(chenjinke)
  GID ------  用户组id， 1000(chenjinke)
```

1、当前用户 ----------------   id

```java
  $ id
  uid=1000(chenjinke) gid=1000(chenjinke) 组=1000(chenjinke),4(adm),24(cdrom),27(sudo),30(dip),46(plugdev),116(lpadmin),126(sambashare)
```

2、查看所有用户的UID和GID信息----------- cat /etc/passwd

**注： 安卓阉割，没有 /etc/passwd**

```java
  chenjinke@chenjinke-VirtualBox:/proc/2160/task/2750$ cat /etc/passwd
  root:x:0:0:root:/root:/bin/bash  // --------> root用户， 0:root用户组
  daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin
  bin:x:2:2:bin:/bin:/usr/sbin/nologin
  sys:x:3:3:sys:/dev:/usr/sbin/nologin
  sync:x:4:65534:sync:/bin:/bin/sync
  games:x:5:60:games:/usr/games:/usr/sbin/nologin
  man:x:6:12:man:/var/cache/man:/usr/sbin/nologin
  lp:x:7:7:lp:/var/spool/lpd:/usr/sbin/nologin
  mail:x:8:8:mail:/var/mail:/usr/sbin/nologin
  news:x:9:9:news:/var/spool/news:/usr/sbin/nologin
  uucp:x:10:10:uucp:/var/spool/uucp:/usr/sbin/nologin
  proxy:x:13:13:proxy:/bin:/usr/sbin/nologin
  www-data:x:33:33:www-data:/var/www:/usr/sbin/nologin
  backup:x:34:34:backup:/var/backups:/usr/sbin/nologin
  list:x:38:38:Mailing List Manager:/var/list:/usr/sbin/nologin
  irc:x:39:39:ircd:/var/run/ircd:/usr/sbin/nologin
  gnats:x:41:41:Gnats Bug-Reporting System (admin):/var/lib/gnats:/usr/sbin/nologin
  nobody:x:65534:65534:nobody:/nonexistent:/usr/sbin/nologin
  systemd-network:x:100:102:systemd Network Management,,,:/run/systemd/netif:/usr/sbin/nologin
  systemd-resolve:x:101:103:systemd Resolver,,,:/run/systemd/resolve:/usr/sbin/nologin
  syslog:x:102:106::/home/syslog:/usr/sbin/nologin   // -------》  syslog用户
  messagebus:x:103:107::/nonexistent:/usr/sbin/nologin
  _apt:x:104:65534::/nonexistent:/usr/sbin/nologin
  uuidd:x:105:111::/run/uuidd:/usr/sbin/nologin
  avahi-autoipd:x:106:112:Avahi autoip daemon,,,:/var/lib/avahi-autoipd:/usr/sbin/nologin
  usbmux:x:107:46:usbmux daemon,,,:/var/lib/usbmux:/usr/sbin/nologin
  dnsmasq:x:108:65534:dnsmasq,,,:/var/lib/misc:/usr/sbin/nologin
  rtkit:x:109:114:RealtimeKit,,,:/proc:/usr/sbin/nologin
  cups-pk-helper:x:110:116:user for cups-pk-helper service,,,:/home/cups-pk-helper:/usr/sbin/nologin
  speech-dispatcher:x:111:29:Speech Dispatcher,,,:/var/run/speech-dispatcher:/bin/false
  whoopsie:x:112:117::/nonexistent:/bin/false
  kernoops:x:113:65534:Kernel Oops Tracking Daemon,,,:/:/usr/sbin/nologin
  saned:x:114:119::/var/lib/saned:/usr/sbin/nologin
  avahi:x:115:120:Avahi mDNS daemon,,,:/var/run/avahi-daemon:/usr/sbin/nologin
  colord:x:116:121:colord colour management daemon,,,:/var/lib/colord:/usr/sbin/nologin
  hplip:x:117:7:HPLIP system user,,,:/var/run/hplip:/bin/false
  geoclue:x:118:122::/var/lib/geoclue:/usr/sbin/nologin
  pulse:x:119:123:PulseAudio daemon,,,:/var/run/pulse:/usr/sbin/nologin
  gnome-initial-setup:x:120:65534::/run/gnome-initial-setup/:/bin/false  // ---------> gnome用户组
  gdm:x:121:125:Gnome Display Manager:/var/lib/gdm3:/bin/false
  chenjinke:x:1000:1000:chenjinke,,,:/home/chenjinke:/bin/bash  // ---------> chenjinke用户，用户组也是1000:chenjinke
  vboxadd:x:999:1::/var/run/vboxadd:/bin/false
  sddm:x:122:127:Simple Desktop Display Manager:/var/lib/sddm:/bin/false
  mpd:x:123:29::/var/lib/mpd:/usr/sbin/nologin
```

3、cat /etc/group： 所有用户组的GID信息

**注： 安卓阉割，没有 /etc/group**

```java
  chenjinke@chenjinke-VirtualBox:/proc/2160/task/2750$ cat /etc/group
  root:x:0:
  daemon:x:1:
  bin:x:2:
  sys:x:3:
  adm:x:4:syslog,chenjinke
  tty:x:5:
  disk:x:6:
  lp:x:7:
  mail:x:8:
  news:x:9:
  uucp:x:10:
  man:x:12:
  proxy:x:13:
  kmem:x:15:
  dialout:x:20:
  fax:x:21:
  voice:x:22:
  cdrom:x:24:chenjinke
  floppy:x:25:
  tape:x:26:
  sudo:x:27:chenjinke
  audio:x:29:pulse
  dip:x:30:chenjinke
  www-data:x:33:
  backup:x:34:
  operator:x:37:
  list:x:38:
  irc:x:39:
  src:x:40:
  gnats:x:41:
  shadow:x:42:
  utmp:x:43:
  video:x:44:
  sasl:x:45:
  plugdev:x:46:chenjinke
  staff:x:50:
  games:x:60:
  users:x:100:
  nogroup:x:65534:
  systemd-journal:x:101:
  systemd-network:x:102:
  systemd-resolve:x:103:
  input:x:104:
  crontab:x:105:
  syslog:x:106:
  messagebus:x:107:
  netdev:x:108:
  mlocate:x:109:
  ssl-cert:x:110:
  uuidd:x:111:
  avahi-autoipd:x:112:
  bluetooth:x:113:
  rtkit:x:114:
  ssh:x:115:
  lpadmin:x:116:chenjinke
  whoopsie:x:117:
  scanner:x:118:saned
  saned:x:119:
  avahi:x:120:
  colord:x:121:
  geoclue:x:122:
  pulse:x:123:
  pulse-access:x:124:
  gdm:x:125:
  chenjinke:x:1000:
  sambashare:x:126:chenjinke
  vboxsf:x:999:
  vboxdrmipc:x:998:
  sddm:x:127:
```

安卓系统 linux用户id：  换目录了：

cat /data/system/packages.list       --------------------->   应用的

```java
  sailfish:/etc # cat /data/system/packages.list
  com.android.cts.priv.ctsshim 10048 0 /data/user/0/com.android.cts.priv.ctsshim default:privapp:targetSdkVersion=28 none 0 28
  com.android.internal.display.cutout.emulation.corner 10029 0 /data/user/0/com.android.internal.display.cutout.emulation.corner default:targetSdkVersion=29 none 0 1
  com.android.internal.display.cutout.emulation.double 10010 0 /data/user/0/com.android.internal.display.cutout.emulation.double default:targetSdkVersion=29 none 0 1
  com.android.providers.telephony 1001 0 /data/user_de/0/com.android.providers.telephony platform:privapp:targetSdkVersion=24 1065,1005,3002,3003,3001,3007,2002,3006 0 29
  com.android.dynsystem 1000 0 /data/user/0/com.android.dynsystem platform:privapp:targetSdkVersion=23 1065,3002,1023,3003,3001 0 29
  com.android.providers.calendar 10053 0 /data/user/0/com.android.providers.calendar default:privapp:targetSdkVersion=29 1065,3003 0 29
  com.android.providers.media 10039 0 /data/user/0/com.android.providers.media media:privapp:targetSdkVersion=29 2001,1065,1023,3003,3007,1024 0 1023
  com.qti.service.colorservice 1000 0 /data/user/0/com.qti.service.colorservice platform:privapp:targetSdkVersion=23 1065,3002,1023,3003,3001 0 1
  com.android.theme.icon.square 10020 0 /data/user/0/com.android.theme.icon.square default:targetSdkVersion=29 none 0 1
  com.android.internal.systemui.navbar.gestural_wide_back 10019 0 /data/user/0/com.android.internal.systemui.navbar.gestural_wide_back default:targetSdkVersion=29 none 0 1
  com.qualcomm.shutdownlistner 10076 0 /data/user/0/com.qualcomm.shutdownlistner platform:targetSdkVersion=29 none 0 29
  com.android.wallpapercropper 10079 0 /data/user/0/com.android.wallpapercropper platform:privapp:targetSdkVersion=29 none 0 29
  com.android.theme.color.cinnamon 10023 0 /data/user/0/com.android.theme.color.cinnamon default:targetSdkVersion=29 none 0 1
  com.android.theme.icon_pack.rounded.systemui 10025 0 /data/user/0/com.android.theme.icon_pack.rounded.systemui default:targetSdkVersion=29 none 0 1
  com.android.documentsui 10042 0 /data/user/0/com.android.documentsui platform:privapp:targetSdkVersion=28 none 0 29
  com.android.externalstorage 10046 0 /data/user/0/com.android.externalstorage platform:privapp:targetSdkVersion=29 1023 0 29
  com.android.htmlviewer 10056 0 /data/user/0/com.android.htmlviewer default:targetSdkVersion=29 none 0 29
  com.android.companiondevicemanager 10061 0 /data/user/0/com.android.companiondevicemanager default:targetSdkVersion=29 3002,3001 0 29
  com.android.quicksearchbox 10092 0 /data/user/0/com.android.quicksearchbox default:targetSdkVersion=28 3003 0 29
  com.android.mms.service 1001 0 /data/user/0/com.android.mms.service platform:privapp:targetSdkVersion=24 1065,1005,3002,3003,3001,3007,2002,3006 0 29
  com.android.providers.downloads 10039 0 /data/user/0/com.android.providers.downloads media:privapp:targetSdkVersion=29 2001,1065,1023,3003,3007,1024 0 29
  com.android.messaging 10059 0 /data/user/0/com.android.messaging platform:targetSdkVersion=28 3003 0 10001040
  com.android.theme.icon_pack.rounded.android 10002 0 /data/user/0/com.android.theme.icon_pack.rounded.android default:targetSdkVersion=29 none 0 1
  ru.meefik.busybox 10102 0 /data/user/0/ru.meefik.busybox default:targetSdkVersion=28 none 0 46
  com.qualcomm.qti.telephonyservice 10077 0 /data/user/0/com.qualcomm.qti.telephonyservice platform:targetSdkVersion=29 none 0 29
  com.android.theme.icon_pack.circular.themepicker 10013 0 /data/user/0/com.android.theme.icon_pack.circular.themepicker platform:targetSdkVersion=29 none 0 1
  com.android.providers.downloads.ui 10039 0 /data/user/0/com.android.providers.downloads.ui media:privapp:targetSdkVersion=29 2001,1065,1023,3003,3007,1024 0 29
  com.android.pacprocessor 10062 0 /data/user/0/com.android.pacprocessor platform:targetSdkVersion=29 3003 0 29
  com.android.simappdialog 10060 0 /data/user/0/com.android.simappdialog platform:targetSdkVersion=29 none 0 29
  com.android.networkstack 1073 0 /data/user_de/0/com.android.networkstack network_stack:privapp:targetSdkVersion=29 3003 0 290000000
  com.android.internal.display.cutout.emulation.tall 10003 0 /data/user/0/com.android.internal.display.cutout.emulation.tall default:targetSdkVersion=29 none 0 1
  com.android.modulemetadata 10099 0 /data/user/0/com.android.modulemetadata default:targetSdkVersion=28 none 0 29
  com.android.certinstaller 10067 0 /data/user/0/com.android.certinstaller platform:targetSdkVersion=29 none 0 29
  com.android.theme.color.black 10004 0 /data/user/0/com.android.theme.color.black default:targetSdkVersion=29 none 0 1
  com.android.carrierconfig 10082 0 /data/user/0/com.android.carrierconfig platform:privapp:targetSdkVersion=29 none 0 1
  com.android.theme.color.green 10007 0 /data/user/0/com.android.theme.color.green default:targetSdkVersion=29 none 0 1
  com.android.theme.color.ocean 10014 0 /data/user/0/com.android.theme.color.ocean default:targetSdkVersion=29 none 0 1
  com.android.theme.color.space 10006 0 /data/user/0/com.android.theme.color.space default:targetSdkVersion=29 none 0 1
  com.android.internal.systemui.navbar.threebutton 10018 0 /data/user/0/com.android.internal.systemui.navbar.threebutton default:targetSdkVersion=29 none 0 1
  com.qti.qualcomm.datastatusnotification 1001 0 /data/user/0/com.qti.qualcomm.datastatusnotification platform:privapp:targetSdkVersion=24 1065,1005,3002,3003,3001,3007,2002,3006 0 29
  android 1000 0 /data/system platform:privapp:targetSdkVersion=23 1065,3002,1023,3003,3001 0 29
  com.android.contacts 10085 0 /data/user/0/com.android.contacts default:privapp:targetSdkVersion=28 3003 0 10731
  com.android.camera2 10100 0 /data/user/0/com.android.camera2 default:targetSdkVersion=28 3003 0 20002000
  com.android.theme.icon_pack.rounded.launcher 10005 0 /data/user/0/com.android.theme.icon_pack.rounded.launcher default:targetSdkVersion=29 none 0 1
  com.android.egg 10064 0 /data/user/0/com.android.egg platform:targetSdkVersion=29 none 0 1
  com.android.mtp 10039 0 /data/user/0/com.android.mtp media:privapp:targetSdkVersion=29 2001,1065,1023,3003,3007,1024 0 29
  com.android.nfc 1027 0 /data/user/0/com.android.nfc platform:privapp:targetSdkVersion=29 3002,3003,3001 0 29
  com.android.ons 1001 0 /data/user/0/com.android.ons platform:privapp:targetSdkVersion=24 1065,1005,3002,3003,3001,3007,2002,3006 0 29
  com.android.stk 1001 0 /data/user_de/0/com.android.stk platform:privapp:targetSdkVersion=24 1065,1005,3002,3003,3001,3007,2002,3006 0 29
  com.android.launcher3 10084 0 /data/user/0/com.android.launcher3 default:privapp:targetSdkVersion=29 none 0 29
  com.android.backupconfirm 10040 0 /data/user/0/com.android.backupconfirm platform:privapp:targetSdkVersion=29 none 0 29
  com.android.internal.systemui.navbar.twobutton 10011 0 /data/user/0/com.android.internal.systemui.navbar.twobutton default:targetSdkVersion=29 none 0 1
  com.android.provision 10080 0 /data/user/0/com.android.provision platform:privapp:targetSdkVersion=29 none 0 29
  com.qualcomm.qti.radioconfiginterface 1001 0 /data/user/0/com.qualcomm.qti.radioconfiginterface platform:privapp:targetSdkVersion=24 1065,1005,3002,3003,3001,3007,2002,3006 0 29
  org.codeaurora.ims 1001 0 /data/user/0/org.codeaurora.ims platform:privapp:targetSdkVersion=24 1065,1005,3002,3003,3001,3007,2002,3006 0 1
  com.android.statementservice 10045 0 /data/user/0/com.android.statementservice default:privapp:targetSdkVersion=29 3003 0 1
  com.android.hotspot2 10063 0 /data/user/0/com.android.hotspot2 platform:targetSdkVersion=29 3003 0 29
  com.android.settings.intelligence 10087 0 /data/user/0/com.android.settings.intelligence default:privapp:targetSdkVersion=29 none 0 29
  com.android.calendar 10089 0 /data/user/0/com.android.calendar default:targetSdkVersion=28 3003 0 29
  com.android.internal.systemui.navbar.gestural_extra_wide_back 10008 0 /data/user/0/com.android.internal.systemui.navbar.gestural_extra_wide_back default:targetSdkVersion=29 none 0 1
  com.qualcomm.qti.auth.secureextauthservice 1000 0 /data/user/0/com.qualcomm.qti.auth.secureextauthservice platform:privapp:targetSdkVersion=23 1065,3002,1023,3003,3001 0 1
  com.android.providers.settings 1000 0 /data/user_de/0/com.android.providers.settings platform:privapp:targetSdkVersion=23 1065,3002,1023,3003,3001 0 29
  com.android.sharedstoragebackup 10050 0 /data/user/0/com.android.sharedstoragebackup platform:privapp:targetSdkVersion=29 1023 0 29
  com.android.printspooler 10073 0 /data/user/0/com.android.printspooler default:targetSdkVersion=29 none 0 29
  com.android.theme.icon_pack.filled.settings 10033 0 /data/user/0/com.android.theme.icon_pack.filled.settings default:targetSdkVersion=29 none 0 1
  com.android.dreams.basic 10066 0 /data/user/0/com.android.dreams.basic default:targetSdkVersion=29 none 0 29
  com.android.webview 10091 0 /data/user/0/com.android.webview default:targetSdkVersion=29 3003 0 373018655
  com.android.se 1068 0 /data/user/0/com.android.se platform:privapp:targetSdkVersion=29 none 0 29
  com.android.inputdevices 1000 0 /data/user_de/0/com.android.inputdevices platform:privapp:targetSdkVersion=23 1065,3002,1023,3003,3001 0 29
  com.android.bips 10071 0 /data/user/0/com.android.bips default:targetSdkVersion=29 3003 0 29
  com.android.theme.icon_pack.circular.settings 10035 0 /data/user/0/com.android.theme.icon_pack.circular.settings default:targetSdkVersion=29 none 0 1
  com.android.musicfx 10052 0 /data/user/0/com.android.musicfx default:privapp:targetSdkVersion=29 3002 0 10400
  com.android.cellbroadcastreceiver 10044 0 /data/user_de/0/com.android.cellbroadcastreceiver platform:privapp:targetSdkVersion=29 none 0 29
  com.android.theme.icon.teardrop 10024 0 /data/user/0/com.android.theme.icon.teardrop default:targetSdkVersion=29 none 0 1
  android.ext.shared 10058 0 /data/user_de/0/android.ext.shared platform:targetSdkVersion=29 none 0 1
  com.android.onetimeinitializer 10078 0 /data/user/0/com.android.onetimeinitializer default:privapp:targetSdkVersion=29 none 0 29
  com.android.server.telecom 1000 0 /data/user_de/0/com.android.server.telecom platform:privapp:targetSdkVersion=23 1065,3002,1023,3003,3001 0 29
  com.android.keychain 1000 0 /data/user/0/com.android.keychain platform:privapp:targetSdkVersion=23 1065,3002,1023,3003,3001 0 29
  com.android.printservice.recommendation 10068 0 /data/user/0/com.android.printservice.recommendation default:targetSdkVersion=29 3003 0 4
  com.qualcomm.qti.rcsbootstraputil 1001 0 /data/user/0/com.qualcomm.qti.rcsbootstraputil platform:privapp:targetSdkVersion=24 1065,1005,3002,3003,3001,3007,2002,3006 0 25
  com.android.dialer 10081 0 /data/user/0/com.android.dialer default:privapp:targetSdkVersion=28 3002,3003,3001 0 2900000
  com.android.gallery3d 10098 0 /data/user/0/com.android.gallery3d default:targetSdkVersion=28 3003 0 40030
  com.android.theme.icon_pack.filled.systemui 10031 0 /data/user/0/com.android.theme.icon_pack.filled.systemui default:targetSdkVersion=29 none 0 1
  android.ext.services 10038 0 /data/user_de/0/android.ext.services platform:privapp:targetSdkVersion=29 none 0 290000000
  com.android.calllogbackup 10036 0 /data/user/0/com.android.calllogbackup default:privapp:targetSdkVersion=29 1065 0 29
  com.android.localtransport 1000 0 /data/user/0/com.android.localtransport platform:privapp:targetSdkVersion=23 1065,3002,1023,3003,3001 0 29
  com.android.packageinstaller 10047 0 /data/user_de/0/com.android.packageinstaller platform:privapp:targetSdkVersion=29 1065 0 29
  com.android.carrierdefaultapp 10070 0 /data/user/0/com.android.carrierdefaultapp platform:targetSdkVersion=29 3003 0 29
  com.android.theme.font.notoserifsource 10017 0 /data/user/0/com.android.theme.font.notoserifsource default:targetSdkVersion=29 none 0 1
  com.android.theme.icon_pack.filled.android 10016 0 /data/user/0/com.android.theme.icon_pack.filled.android default:targetSdkVersion=29 none 0 1
  com.android.proxyhandler 10037 0 /data/user_de/0/com.android.proxyhandler platform:privapp:targetSdkVersion=29 3003 0 29com.android.theme.icon_pack.circular.systemui 10015 0 /data/user/0/com.android.theme.icon_pack.circular.systemui default:targetSdkVersion=29 none 0 1
  com.android.inputmethod.latin 10101 0 /data/user_de/0/com.android.inputmethod.latin default:targetSdkVersion=28 none 0 28
  org.chromium.webview_shell 10097 0 /data/user/0/org.chromium.webview_shell default:targetSdkVersion=28 3003 0 1
  com.android.managedprovisioning 10041 0 /data/user/0/com.android.managedprovisioning platform:privapp:targetSdkVersion=29 3003 0 29
  com.android.dreams.phototable 10095 0 /data/user/0/com.android.dreams.phototable default:targetSdkVersion=28 none 0 29
  com.android.smspush 10072 0 /data/user/0/com.android.smspush default:targetSdkVersion=29 none 0 29
  com.android.wallpaper.livepicker 10055 0 /data/user/0/com.android.wallpaper.livepicker platform:targetSdkVersion=29 none 0 29
  com.android.apps.tag 10051 0 /data/user/0/com.android.apps.tag default:privapp:targetSdkVersion=29 none 0 101
  com.android.theme.icon.squircle 10034 0 /data/user/0/com.android.theme.icon.squircle default:targetSdkVersion=29 none 0 1
  com.android.storagemanager 10088 0 /data/user/0/com.android.storagemanager default:privapp:targetSdkVersion=29 1065 0 29com.android.bookmarkprovider 10065 0 /data/user/0/com.android.bookmarkprovider default:targetSdkVersion=29 none 0 29
  com.android.settings 1000 0 /data/user_de/0/com.android.settings platform:privapp:targetSdkVersion=23 1065,3002,1023,3003,3001 0 29
  com.qualcomm.qti.ims 1001 0 /data/user/0/com.qualcomm.qti.ims platform:privapp:targetSdkVersion=24 1065,1005,3002,3003,3001,3007,2002,3006 0 1
  com.android.theme.icon_pack.filled.launcher 10030 0 /data/user/0/com.android.theme.icon_pack.filled.launcher default:targetSdkVersion=29 none 0 1
  com.android.networkstack.permissionconfig 1073 0 /data/user/0/com.android.networkstack.permissionconfig network_stack:privapp:targetSdkVersion=29 3003 0 290000000
  com.android.cts.ctsshim 10069 0 /data/user/0/com.android.cts.ctsshim default:targetSdkVersion=28 none 0 28
  com.android.theme.icon_pack.circular.launcher 10001 0 /data/user/0/com.android.theme.icon_pack.circular.launcher default:targetSdkVersion=29 none 0 1
  com.android.vpndialogs 10043 0 /data/user/0/com.android.vpndialogs platform:privapp:targetSdkVersion=29 none 0 29
  com.android.email 10093 0 /data/user/0/com.android.email default:targetSdkVersion=24 3003 0 7008110
  com.android.music 10094 0 /data/user/0/com.android.music default:targetSdkVersion=28 none 0 29
  com.android.phone 1001 0 /data/user_de/0/com.android.phone platform:privapp:targetSdkVersion=24 1065,1005,3002,3003,3001,3007,2002,3006 0 29
  com.android.shell 2000 0 /data/user_de/0/com.android.shell platform:privapp:targetSdkVersion=29 1065,3002,1023,1002,3010,3011 0 29
  com.android.theme.icon_pack.filled.themepicker 10021 0 /data/user/0/com.android.theme.icon_pack.filled.themepicker platform:targetSdkVersion=29 none 0 1
  com.android.wallpaperbackup 1000 0 /data/user/0/com.android.wallpaperbackup platform:privapp:targetSdkVersion=23 1065,3002,1023,3003,3001 0 29
  com.example.myapplication 10103 1 /data/user/0/com.example.myapplication default:targetSdkVersion=33 none 1 1
  com.android.providers.blockednumber 10036 0 /data/user_de/0/com.android.providers.blockednumber default:privapp:targetSdkVersion=29 1065 0 29
  com.android.providers.userdictionary 10036 0 /data/user/0/com.android.providers.userdictionary default:privapp:targetSdkVersion=29 1065 0 29
  com.android.emergency 10086 0 /data/user_de/0/com.android.emergency platform:privapp:targetSdkVersion=29 none 0 29
  com.android.internal.systemui.navbar.gestural 10012 0 /data/user/0/com.android.internal.systemui.navbar.gestural default:targetSdkVersion=29 none 0 1
  com.android.location.fused 1000 0 /data/user_de/0/com.android.location.fused platform:privapp:targetSdkVersion=23 1065,3002,1023,3003,3001 0 29
  com.android.theme.color.orchid 10026 0 /data/user/0/com.android.theme.color.orchid default:targetSdkVersion=29 none 0 1
  com.android.deskclock 10096 0 /data/user/0/com.android.deskclock default:targetSdkVersion=28 none 0 29
  com.android.systemui 10083 0 /data/user_de/0/com.android.systemui platform:privapp:targetSdkVersion=29 1065,3002,1023,3001,3006 0 29
  com.android.theme.color.purple 10022 0 /data/user/0/com.android.theme.color.purple default:targetSdkVersion=29 none 0 1
  com.android.bluetoothmidiservice 10054 0 /data/user/0/com.android.bluetoothmidiservice platform:targetSdkVersion=29 3002 0 29
  com.android.permissioncontroller 10049 0 /data/user_de/0/com.android.permissioncontroller platform:privapp:targetSdkVersion=29 none 0 290000000
  com.qualcomm.fastdormancy 1000 0 /data/user/0/com.qualcomm.fastdormancy platform:privapp:targetSdkVersion=23 1065,3002,1023,3003,3001 0 29
  com.android.traceur 10074 0 /data/user/0/com.android.traceur platform:targetSdkVersion=29 none 0 2
  com.android.bluetooth 1002 0 /data/user_de/0/com.android.bluetooth platform:privapp:targetSdkVersion=29 3002,3003,3001,3007,1002,3010,3011,3005,1016 0 29
  com.qualcomm.timeservice 1000 0 /data/user/0/com.qualcomm.timeservice platform:privapp:targetSdkVersion=23 1065,3002,1023,3003,3001 0 29
  com.qualcomm.atfwd 1000 0 /data/user/0/com.qualcomm.atfwd platform:privapp:targetSdkVersion=23 1065,3002,1023,3003,3001 0 29
  com.android.wallpaperpicker 10090 0 /data/user/0/com.android.wallpaperpicker default:targetSdkVersion=23 none 0 1
  com.qualcomm.embms 10075 0 /data/user/0/com.qualcomm.embms platform:targetSdkVersion=24 3003 0 1
  com.android.providers.contacts 10036 0 /data/user/0/com.android.providers.contacts default:privapp:targetSdkVersion=29 1065 0 29
  com.android.captiveportallogin 10057 0 /data/user/0/com.android.captiveportallogin network_stack:targetSdkVersion=29 3003 0 290000000
  com.android.theme.icon.roundedrect 10009 0 /data/user/0/com.android.theme.icon.roundedrect default:targetSdkVersion=29 none 0 1
  com.android.internal.systemui.navbar.gestural_narrow_back 10028 0 /data/user/0/com.android.internal.systemui.navbar.gestural_narrow_back default:targetSdkVersion=29 none 0 1
  com.android.theme.icon_pack.rounded.settings 10032 0 /data/user/0/com.android.theme.icon_pack.rounded.settings default:targetSdkVersion=29 none 0 1
  android.auto_generated_rro_vendor__ 10000 0 /data/user/0/android.auto_generated_rro_vendor__ platform:targetSdkVersion=29 none 0 1
  com.android.theme.icon_pack.circular.android 10027 0 /data/user/0/com.android.theme.icon_pack.circular.android default:targetSdkVersion=29 none 0 1
  com.example.myapplication 10103 1 /data/user/0/com.example.myapplication default:targetSdkVersion=33 none 1 1
  com.android.settings 1000 0 /data/user_de/0/com.android.settings platform:privapp:targetSdkVersion=23 1065,3002,1023,3003,3001 0 29
```

userid  的确定：  在app安装的时候，系统会给这个app自动分配一uid （如果在AndroidManifext.xml里使用android:sharedUserId属性指定，就用指定的）

数据存放路径： /data/user/0/com.example.myapplication    ------>  usr0

**用户组**：1065,3002,1023,3003,3001



# 安卓用户----> 目标：安卓多用户模式

1、**安卓用户**表达使用者的意思

2、**从linux角度：**  linux用户  多了u0 ，u10

-----------> **所以，安卓用户只是linux用户的子集**

比如：

```java
  400%cpu 223%user  19%nice  66%sys  85%idle   2%iow   4%irq   2%sirq   0%host
    PID USER         PR  NI VIRT  RES  SHR S[%CPU] %MEM     TIME+ ARGS
    925 system       18  -2 7.7G 309M 242M S  179   8.1   9:39.59 system_server
  16755 u10_a39      20   0 4.9G  63M  33M S 28.0   1.6   0:00.87 android.process.media
    817 mediaex      20   0 258G  17M  11M S 14.6   0.4   0:00.75 media.extractor aextractor
    819 media        20   0  74M  14M  11M S 14.3   0.3   0:00.86 mediaserver
   2020 u0_a84       20   0 5.1G 115M  67M S  2.6   3.0   0:54.69 com.android.launcher3
  16952 root         20   0  35M 2.9M 1.6M R  2.3   0.0   0:00.16 top
    640 root         20   0 5.1G  88M  63M S  2.3   2.3   0:02.19 zygote64
    784 shell        20   0 135M 4.2M 2.6M S  1.6   0.1   2:52.00 adbd --root_seclabel=u:r:su:s0
    677 nobody       20   0  35M 2.4M 1.7M S  1.6   0.0   0:00.25 ashmemd
   1708 radio        20   0 5.4G  76M  44M S  1.3   2.0   0:25.09 com.android.phone
    476 logd         30  10 155M  20M 1.7M S  1.3   0.5  22:41.77 logd
  16953 u10_a89      20   0 4.8G  51M  24M S  1.0   1.3   0:00.07 com.android.calendar
  16870 u10_a81      20   0 4.9G  55M  27M S  1.0   1.4   0:00.15 com.android.dialer
  16666 u10_a96      20   0 4.9G  53M  26M S  1.0   1.4   0:00.14 com.android.deskclock
  16702 u10_a73      20   0 4.8G  48M  22M S  0.6   1.2   0:00.07 com.android.printspooler
  16617 root         20   0    0    0    0 R  0.6   0.0   0:00.12 [kworker/u8:7]
  16553 root         20   0    0    0    0 S  0.6   0.0   0:02.64 [kworker/u8:3]
  15882 root         RT   0    0    0    0 S  0.6   0.0   0:10.91 [kschedfreq:2]
  13000 root          0 -20    0    0    0 S  0.6   0.0   0:00.00 [kworker/u9:2]
   2445 nfc          20   0 5.0G  75M  41M S  0.6   2.0   0:08.01 com.android.nfc
```

## 维测：

查看安卓用户：

```java
  sailfish:/etc # pm list users
  Users:
          UserInfo{0:机主:13} running
```

# 深入理解Android系统多用户机制

https://blog.csdn.net/Jason_Lee155/article/details/129667038

[深入理解Android系统多用户机制*android 多用户*Jason_Lee155的博客-CSDN博客](https://blog.csdn.net/Jason_Lee155/article/details/129667038)



# 多用户起来的时机

UserController.java   --------> AMS的一个类

UserController的finishUserUnlockedCompleted

# 一些结论：

> 新增一个多用户，system_process永远只有一份。但是有很多系统应用会复制多分。

验证：pstree  + 线程号

